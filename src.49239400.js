parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"aiJW":[function(require,module,exports) {

},{}],"ArXC":[function(require,module,exports) {
"use strict";function e(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}function t(e,t){var n=e.__state.conversionName.toString(),o=Math.round(e.r),i=Math.round(e.g),r=Math.round(e.b),s=e.a,a=Math.round(e.h),l=e.s.toFixed(1),d=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+o+","+i+","+r+")":"CSS_RGBA"===n?"rgba("+o+","+i+","+r+","+s+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+o+","+i+","+r+"]":"RGBA_ARRAY"===n?"["+o+","+i+","+r+","+s+"]":"RGB_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+"}":"RGBA_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+",a:"+s+"}":"HSV_OBJ"===n?"{h:"+a+",s:"+l+",v:"+d+"}":"HSVA_OBJ"===n?"{h:"+a+",s:"+l+",v:"+d+",a:"+s+"}":"unknown format"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.gui=exports.dom=exports.default=exports.controllers=exports.color=exports.GUI=void 0;var n=Array.prototype.forEach,o=Array.prototype.slice,i={BREAK:{},extend:function(e){return this.each(o.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))},this),e},defaults:function(e){return this.each(o.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))},this),e},compose:function(){var e=o.call(arguments);return function(){for(var t=o.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,o){if(e)if(n&&e.forEach&&e.forEach===n)e.forEach(t,o);else if(e.length===e.length+0){var i,r=void 0;for(r=0,i=e.length;r<i;r++)if(r in e&&t.call(o,e[r],r)===this.BREAK)return}else for(var s in e)if(t.call(o,e[s],s)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var o=void 0;return function(){var i=this,r=arguments;var s=n||!o;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(i,r)},t),s&&e.apply(i,r)}},toArray:function(e){return e.toArray?e.toArray():o.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return e instanceof Function}},r=[{litmus:i.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:t},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:t},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:t},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:t}}},{litmus:i.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:i.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:i.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(i.isNumber(e.r)&&i.isNumber(e.g)&&i.isNumber(e.b)&&i.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(i.isNumber(e.r)&&i.isNumber(e.g)&&i.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(i.isNumber(e.h)&&i.isNumber(e.s)&&i.isNumber(e.v)&&i.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(i.isNumber(e.h)&&i.isNumber(e.s)&&i.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],s=void 0,a=void 0,l=function(){a=!1;var e=arguments.length>1?i.toArray(arguments):arguments[0];return i.each(r,function(t){if(t.litmus(e))return i.each(t.conversions,function(t,n){if(s=t.read(e),!1===a&&!1!==s)return a=s,s.conversionName=n,s.conversion=t,i.BREAK}),i.BREAK}),a},d=void 0,c={hsv_to_rgb:function(e,t,n){var o=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),r=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=[[n,a,r],[s,n,r],[r,n,a],[r,s,n],[a,r,n],[n,r,s]][o];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var o=Math.min(e,t,n),i=Math.max(e,t,n),r=i-o,s=void 0;return 0===i?{h:NaN,s:0,v:0}:(s=e===i?(t-n)/r:t===i?2+(n-e)/r:4+(e-t)/r,(s/=6)<0&&(s+=1),{h:360*s,s:r/i,v:i/255})},rgb_to_hex:function(e,t,n){var o=this.hex_with_component(0,2,e);return o=this.hex_with_component(o,1,t),o=this.hex_with_component(o,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(d=8*t)|e&~(255<<d)}},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},f=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},m=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},g=function(){function e(){if(_(this,e),this.__state=l.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return h(e,[{key:"toString",value:function(){return t(this)}},{key:"toHexString",value:function(){return t(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function b(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(g.recalculateRGB(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(g.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function v(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(g.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(g.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}g.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=c.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");i.extend(e.__state,c.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},g.recalculateHSV=function(e){var t=c.rgb_to_hsv(e.r,e.g,e.b);i.extend(e.__state,{s:t.s,v:t.v}),i.isNaN(t.h)?i.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},g.COMPONENTS=["r","g","b","h","s","v","hex","a"],b(g.prototype,"r",2),b(g.prototype,"g",1),b(g.prototype,"b",0),v(g.prototype,"h"),v(g.prototype,"s"),v(g.prototype,"v"),Object.defineProperty(g.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(g.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=c.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var y=function(){function e(t,n){_(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return h(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),w={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},x={};i.each(w,function(e,t){i.each(e,function(e){x[e]=t})});var E=/(\d+(\.\d+)?)px/;function C(e){if("0"===e||i.isUndefined(e))return 0;var t=e.match(E);return i.isNull(t)?0:parseFloat(t[1])}var A={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var o=n,r=t;i.isUndefined(r)&&(r=!0),i.isUndefined(o)&&(o=!0),e.style.position="absolute",r&&(e.style.left=0,e.style.right=0),o&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,o){var r=n||{},s=x[t];if(!s)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(s);switch(s){case"MouseEvents":var l=r.x||r.clientX||0,d=r.y||r.clientY||0;a.initMouseEvent(t,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,l,d,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=a.initKeyboardEvent||a.initKeyEvent;i.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(t,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:a.initEvent(t,r.bubbles||!1,r.cancelable||!0)}i.defaults(a,o),e.dispatchEvent(a)},bind:function(e,t,n,o){var i=o||!1;return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n),A},unbind:function(e,t,n,o){var i=o||!1;return e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n),A},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return A},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),o=n.indexOf(t);-1!==o&&(n.splice(o,1),e.className=n.join(" "))}else e.className=void 0;return A},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return C(t["border-left-width"])+C(t["border-right-width"])+C(t["padding-left"])+C(t["padding-right"])+C(t.width)},getHeight:function(e){var t=getComputedStyle(e);return C(t["border-top-width"])+C(t["border-bottom-width"])+C(t["padding-top"])+C(t["padding-bottom"])+C(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},k=function(e){function t(e,n){_(this,t);var o=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o;return o.__prev=o.getValue(),o.__checkbox=document.createElement("input"),o.__checkbox.setAttribute("type","checkbox"),A.bind(o.__checkbox,"change",function(){i.setValue(!i.__prev)},!1),o.domElement.appendChild(o.__checkbox),o.updateDisplay(),o}return f(t,y),h(t,[{key:"setValue",value:function(e){var n=p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),S=function(e){function t(e,n,o){_(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=o,a=r;if(r.__select=document.createElement("select"),i.isArray(s)){var l={};i.each(s,function(e){l[e]=e}),s=l}return i.each(s,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),a.__select.appendChild(n)}),r.updateDisplay(),A.bind(r.__select,"change",function(){var e=this.options[this.selectedIndex].value;a.setValue(e)}),r.domElement.appendChild(r.__select),r}return f(t,y),h(t,[{key:"setValue",value:function(e){var n=p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return A.isActive(this.__select)?this:(this.__select.value=this.getValue(),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(),O=function(e){function t(e,n){_(this,t);var o=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o;function r(){i.setValue(i.__input.value)}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),A.bind(o.__input,"keyup",r),A.bind(o.__input,"change",r),A.bind(o.__input,"blur",function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),A.bind(o.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return f(t,y),h(t,[{key:"updateDisplay",value:function(){return A.isActive(this.__input)||(this.__input.value=this.getValue()),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function T(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var L=function(e){function t(e,n,o){_(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=o||{};return r.__min=s.min,r.__max=s.max,r.__step=s.step,i.isUndefined(r.__step)?0===r.initialValue?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=T(r.__impliedStep),r}return f(t,y),h(t,[{key:"setValue",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=T(e),this}}]),t}();function R(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var B=function(e){function t(e,n,o){_(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));r.__truncationSuspended=!1;var s=r,a=void 0;function l(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function d(e){var t=a-e.clientY;s.setValue(s.getValue()+t*s.__impliedStep),a=e.clientY}function c(){A.unbind(window,"mousemove",d),A.unbind(window,"mouseup",c),l()}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),A.bind(r.__input,"change",function(){var e=parseFloat(s.__input.value);i.isNaN(e)||s.setValue(e)}),A.bind(r.__input,"blur",function(){l()}),A.bind(r.__input,"mousedown",function(e){A.bind(window,"mousemove",d),A.bind(window,"mouseup",c),a=e.clientY}),A.bind(r.__input,"keydown",function(e){13===e.keyCode&&(s.__truncationSuspended=!0,this.blur(),s.__truncationSuspended=!1,l())}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return f(t,L),h(t,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():R(this.getValue(),this.__precision),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function N(e,t,n,o,i){return o+(e-t)/(n-t)*(i-o)}var H=function(e){function t(e,n,o,i,r){_(this,t);var s=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:o,max:i,step:r})),a=s;function l(e){e.preventDefault();var t=a.__background.getBoundingClientRect();return a.setValue(N(e.clientX,t.left,t.right,a.__min,a.__max)),!1}function d(){A.unbind(window,"mousemove",l),A.unbind(window,"mouseup",d),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function c(e){var t=e.touches[0].clientX,n=a.__background.getBoundingClientRect();a.setValue(N(t,n.left,n.right,a.__min,a.__max))}function u(){A.unbind(window,"touchmove",c),A.unbind(window,"touchend",u),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}return s.__background=document.createElement("div"),s.__foreground=document.createElement("div"),A.bind(s.__background,"mousedown",function(e){document.activeElement.blur(),A.bind(window,"mousemove",l),A.bind(window,"mouseup",d),l(e)}),A.bind(s.__background,"touchstart",function(e){if(1!==e.touches.length)return;A.bind(window,"touchmove",c),A.bind(window,"touchend",u),c(e)}),A.addClass(s.__background,"slider"),A.addClass(s.__foreground,"slider-fg"),s.updateDisplay(),s.__background.appendChild(s.__foreground),s.domElement.appendChild(s.__background),s}return f(t,L),h(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),F=function(e){function t(e,n,o){_(this,t);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===o?"Fire":o,A.bind(i.__button,"click",function(e){return e.preventDefault(),r.fire(),!1}),A.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return f(t,y),h(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(),P=function(e){function t(e,n){_(this,t);var o=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.__color=new g(o.getValue()),o.__temp=new g(0);var r=o;o.domElement=document.createElement("div"),A.makeSelectable(o.domElement,!1),o.__selector=document.createElement("div"),o.__selector.className="selector",o.__saturation_field=document.createElement("div"),o.__saturation_field.className="saturation-field",o.__field_knob=document.createElement("div"),o.__field_knob.className="field-knob",o.__field_knob_border="2px solid ",o.__hue_knob=document.createElement("div"),o.__hue_knob.className="hue-knob",o.__hue_field=document.createElement("div"),o.__hue_field.className="hue-field",o.__input=document.createElement("input"),o.__input.type="text",o.__input_textShadow="0 1px 1px ",A.bind(o.__input,"keydown",function(e){13===e.keyCode&&h.call(this)}),A.bind(o.__input,"blur",h),A.bind(o.__selector,"mousedown",function(){A.addClass(this,"drag").bind(window,"mouseup",function(){A.removeClass(r.__selector,"drag")})}),A.bind(o.__selector,"touchstart",function(){A.addClass(this,"drag").bind(window,"touchend",function(){A.removeClass(r.__selector,"drag")})});var s=document.createElement("div");function a(e){f(e),A.bind(window,"mousemove",f),A.bind(window,"touchmove",f),A.bind(window,"mouseup",c),A.bind(window,"touchend",c)}function d(e){b(e),A.bind(window,"mousemove",b),A.bind(window,"touchmove",b),A.bind(window,"mouseup",u),A.bind(window,"touchend",u)}function c(){A.unbind(window,"mousemove",f),A.unbind(window,"touchmove",f),A.unbind(window,"mouseup",c),A.unbind(window,"touchend",c),p()}function u(){A.unbind(window,"mousemove",b),A.unbind(window,"touchmove",b),A.unbind(window,"mouseup",u),A.unbind(window,"touchend",u),p()}function h(){var e=l(this.value);!1!==e?(r.__color.__state=e,r.setValue(r.__color.toOriginal())):this.value=r.__color.toString()}function p(){r.__onFinishChange&&r.__onFinishChange.call(r,r.__color.toOriginal())}function f(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=r.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,o=n.clientX,i=n.clientY,s=(o-t.left)/(t.right-t.left),a=1-(i-t.top)/(t.bottom-t.top);return a>1?a=1:a<0&&(a=0),s>1?s=1:s<0&&(s=0),r.__color.v=a,r.__color.s=s,r.setValue(r.__color.toOriginal()),!1}function b(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=r.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),r.__color.h=360*n,r.setValue(r.__color.toOriginal()),!1}return i.extend(o.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),i.extend(o.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:o.__field_knob_border+(o.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),i.extend(o.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),i.extend(o.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),i.extend(s.style,{width:"100%",height:"100%",background:"none"}),j(s,"top","rgba(0,0,0,0)","#000"),i.extend(o.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),V(o.__hue_field),i.extend(o.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:o.__input_textShadow+"rgba(0,0,0,0.7)"}),A.bind(o.__saturation_field,"mousedown",a),A.bind(o.__saturation_field,"touchstart",a),A.bind(o.__field_knob,"mousedown",a),A.bind(o.__field_knob,"touchstart",a),A.bind(o.__hue_field,"mousedown",d),A.bind(o.__hue_field,"touchstart",d),o.__saturation_field.appendChild(s),o.__selector.appendChild(o.__field_knob),o.__selector.appendChild(o.__saturation_field),o.__selector.appendChild(o.__hue_field),o.__hue_field.appendChild(o.__hue_knob),o.domElement.appendChild(o.__input),o.domElement.appendChild(o.__selector),o.updateDisplay(),o}return f(t,y),h(t,[{key:"updateDisplay",value:function(){var e=l(this.getValue());if(!1!==e){var t=!1;i.each(g.COMPONENTS,function(n){if(!i.isUndefined(e[n])&&!i.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&i.extend(this.__color.__state,e)}i.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,o=255-n;i.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,j(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),i.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),t}(),D=["-moz-","-o-","-webkit-","-ms-",""];function j(e,t,n,o){e.style.background="",i.each(D,function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+o+" 100%); "})}function V(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var I={load:function(e,t){var n=t||document,o=n.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,n.getElementsByTagName("head")[0].appendChild(o)},inject:function(e,t){var n=t||document,o=document.createElement("style");o.type="text/css",o.innerHTML=e;var i=n.getElementsByTagName("head")[0];try{i.appendChild(o)}catch(r){}}},z='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',M=function(e,t){var n=e[t];return i.isArray(arguments[2])||i.isObject(arguments[2])?new S(e,t,arguments[2]):i.isNumber(n)?i.isNumber(arguments[2])&&i.isNumber(arguments[3])?i.isNumber(arguments[4])?new H(e,t,arguments[2],arguments[3],arguments[4]):new H(e,t,arguments[2],arguments[3]):i.isNumber(arguments[4])?new B(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new B(e,t,{min:arguments[2],max:arguments[3]}):i.isString(n)?new O(e,t):i.isFunction(n)?new F(e,t,""):i.isBoolean(n)?new k(e,t):null};function G(e){setTimeout(e,1e3/60)}var U=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||G,X=function(){function e(){_(this,e),this.backgroundElement=document.createElement("div"),i.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),A.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),i.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;A.bind(this.backgroundElement,"click",function(){t.hide()})}return h(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),i.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",A.unbind(e.domElement,"webkitTransitionEnd",t),A.unbind(e.domElement,"transitionend",t),A.unbind(e.domElement,"oTransitionEnd",t)};A.bind(this.domElement,"webkitTransitionEnd",t),A.bind(this.domElement,"transitionend",t),A.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-A.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-A.getHeight(this.domElement)/2+"px"}}]),e}(),K=e(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");I.inject(K);var Y="dg",J=72,W=20,Q="Default",q=function(){try{return!!window.localStorage}catch(e){return!1}}(),Z=void 0,$=!0,ee=void 0,te=!1,ne=[],oe=function e(t){var n=this,o=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),A.addClass(this.domElement,Y),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=i.defaults(o,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),o=i.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),i.isUndefined(o.load)?o.load={preset:Q}:o.preset&&(o.load.preset=o.preset),i.isUndefined(o.parent)&&o.hideable&&ne.push(this),o.resizable=i.isUndefined(o.parent)&&o.resizable,o.autoPlace&&i.isUndefined(o.scrollable)&&(o.scrollable=!0);var r,s=q&&"true"===localStorage.getItem(ce(this,"isLocal")),a=void 0,l=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:o.load.preset},set:function(e){n.parent?n.getRoot().preset=e:o.load.preset=e,ge(this),n.revert()}},width:{get:function(){return o.width},set:function(e){o.width=e,fe(n,e)}},name:{get:function(){return o.name},set:function(e){o.name=e,l&&(l.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(t){o.closed=t,o.closed?A.addClass(n.__ul,e.CLASS_CLOSED):A.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return s},set:function(e){q&&(s=e,e?A.bind(window,"unload",a):A.unbind(window,"unload",a),localStorage.setItem(ce(n,"isLocal"),e))}}}),i.isUndefined(o.parent)){if(this.closed=o.closed||!1,A.addClass(this.domElement,e.CLASS_MAIN),A.makeSelectable(this.domElement,!1),q&&s){n.useLocalStorage=!0;var d=localStorage.getItem(ce(this,"gui"));d&&(o.load=JSON.parse(d))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,A.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),o.closeOnTop?(A.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(A.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),A.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===o.closed&&(o.closed=!0);var c=document.createTextNode(o.name);A.addClass(c,"controller-name"),l=ie(n,c);A.addClass(this.__ul,e.CLASS_CLOSED),A.addClass(l,"title"),A.bind(l,"click",function(e){return e.preventDefault(),n.closed=!n.closed,!1}),o.closed||(this.closed=!1)}o.autoPlace&&(i.isUndefined(o.parent)&&($&&(ee=document.createElement("div"),A.addClass(ee,Y),A.addClass(ee,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ee),$=!1),ee.appendChild(this.domElement),A.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||fe(n,o.width)),this.__resizeHandler=function(){n.onResizeDebounced()},A.bind(window,"resize",this.__resizeHandler),A.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),A.bind(this.__ul,"transitionend",this.__resizeHandler),A.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),o.resizable&&pe(this),a=function(){q&&"true"===localStorage.getItem(ce(n,"isLocal"))&&localStorage.setItem(ce(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,o.parent||((r=n.getRoot()).width+=1,i.defer(function(){r.width-=1}))};function ie(e,t,n){var o=document.createElement("li");return t&&o.appendChild(t),n?e.__ul.insertBefore(o,n):e.__ul.appendChild(o),e.onResize(),o}function re(e){A.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&A.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function se(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function ae(e,t,n){if(n.__li=t,n.__gui=e,i.extend(n,{options:function(t){if(arguments.length>1){var o=n.__li.nextElementSibling;return n.remove(),de(e,n.object,n.property,{before:o,factoryArgs:[i.toArray(arguments)]})}if(i.isArray(t)||i.isObject(t)){var r=n.__li.nextElementSibling;return n.remove(),de(e,n.object,n.property,{before:r,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof H){var o=new B(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});i.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(e){var t=n[e],i=o[e];n[e]=o[e]=function(){var e=Array.prototype.slice.call(arguments);return i.apply(o,e),t.apply(n,e)}}),A.addClass(t,"has-slider"),n.domElement.insertBefore(o.domElement,n.domElement.firstElementChild)}else if(n instanceof B){var r=function(t){if(i.isNumber(n.__min)&&i.isNumber(n.__max)){var o=n.__li.firstElementChild.firstElementChild.innerHTML,r=n.__gui.__listening.indexOf(n)>-1;n.remove();var s=de(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return s.name(o),r&&s.listen(),s}return t};n.min=i.compose(r,n.min),n.max=i.compose(r,n.max)}else n instanceof k?(A.bind(t,"click",function(){A.fakeEvent(n.__checkbox,"click")}),A.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof F?(A.bind(t,"click",function(){A.fakeEvent(n.__button,"click")}),A.bind(t,"mouseover",function(){A.addClass(n.__button,"hover")}),A.bind(t,"mouseout",function(){A.removeClass(n.__button,"hover")})):n instanceof P&&(A.addClass(t,"color"),n.updateDisplay=i.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=i.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&se(e.getRoot(),!0),t},n.setValue)}function le(e,t){var n=e.getRoot(),o=n.__rememberedObjects.indexOf(t.object);if(-1!==o){var i=n.__rememberedObjectIndecesToControllers[o];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[o]=i),i[t.property]=t,n.load&&n.load.remembered){var r=n.load.remembered,s=void 0;if(r[e.preset])s=r[e.preset];else{if(!r[Q])return;s=r[Q]}if(s[o]&&void 0!==s[o][t.property]){var a=s[o][t.property];t.initialValue=a,t.setValue(a)}}}}function de(e,t,n,o){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var i=void 0;if(o.color)i=new P(t,n);else{var r=[t,n].concat(o.factoryArgs);i=M.apply(e,r)}o.before instanceof y&&(o.before=o.before.__li),le(e,i),A.addClass(i.domElement,"c");var s=document.createElement("span");A.addClass(s,"property-name"),s.innerHTML=i.property;var a=document.createElement("div");a.appendChild(s),a.appendChild(i.domElement);var l=ie(e,a,o.before);return A.addClass(l,oe.CLASS_CONTROLLER_ROW),i instanceof P?A.addClass(l,"color"):A.addClass(l,u(i.getValue())),ae(e,l,i),e.__controllers.push(i),i}function ce(e,t){return document.location.href+"."+t}function ue(e,t,n){var o=document.createElement("option");o.innerHTML=t,o.value=t,e.__preset_select.appendChild(o),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function _e(e,t){t.style.display=e.useLocalStorage?"block":"none"}function he(e){var t=e.__save_row=document.createElement("li");A.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),A.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",A.addClass(n,"button gears");var o=document.createElement("span");o.innerHTML="Save",A.addClass(o,"button"),A.addClass(o,"save");var r=document.createElement("span");r.innerHTML="New",A.addClass(r,"button"),A.addClass(r,"save-as");var s=document.createElement("span");s.innerHTML="Revert",A.addClass(s,"button"),A.addClass(s,"revert");var a=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?i.each(e.load.remembered,function(t,n){ue(e,n,n===e.preset)}):ue(e,Q,!1),A.bind(a,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(a),t.appendChild(n),t.appendChild(o),t.appendChild(r),t.appendChild(s),q){var l=document.getElementById("dg-local-explain"),d=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(ce(e,"isLocal"))&&d.setAttribute("checked","checked"),_e(e,l),A.bind(d,"change",function(){e.useLocalStorage=!e.useLocalStorage,_e(e,l)})}var c=document.getElementById("dg-new-constructor");A.bind(c,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||Z.hide()}),A.bind(n,"click",function(){c.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),Z.show(),c.focus(),c.select()}),A.bind(o,"click",function(){e.save()}),A.bind(r,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),A.bind(s,"click",function(){e.revert()})}function pe(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function o(){A.removeClass(e.__closeButton,oe.CLASS_DRAG),A.unbind(window,"mousemove",n),A.unbind(window,"mouseup",o)}function r(i){return i.preventDefault(),t=i.clientX,A.addClass(e.__closeButton,oe.CLASS_DRAG),A.bind(window,"mousemove",n),A.bind(window,"mouseup",o),!1}e.__resize_handle=document.createElement("div"),i.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),A.bind(e.__resize_handle,"mousedown",r),A.bind(e.__closeButton,"mousedown",r),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function fe(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function me(e,t){var n={};return i.each(e.__rememberedObjects,function(o,r){var s={},a=e.__rememberedObjectIndecesToControllers[r];i.each(a,function(e,n){s[n]=t?e.initialValue:e.getValue()}),n[r]=s}),n}function ge(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}function be(e){0!==e.length&&U.call(window,function(){be(e)}),i.each(e,function(e){e.updateDisplay()})}oe.toggleHide=function(){te=!te,i.each(ne,function(e){e.domElement.style.display=te?"none":""})},oe.CLASS_AUTO_PLACE="a",oe.CLASS_AUTO_PLACE_CONTAINER="ac",oe.CLASS_MAIN="main",oe.CLASS_CONTROLLER_ROW="cr",oe.CLASS_TOO_TALL="taller-than-window",oe.CLASS_CLOSED="closed",oe.CLASS_CLOSE_BUTTON="close-button",oe.CLASS_CLOSE_TOP="close-top",oe.CLASS_CLOSE_BOTTOM="close-bottom",oe.CLASS_DRAG="drag",oe.DEFAULT_WIDTH=245,oe.TEXT_CLOSED="Close Controls",oe.TEXT_OPEN="Open Controls",oe._keydownHandler=function(e){"text"===document.activeElement.type||e.which!==J&&e.keyCode!==J||oe.toggleHide()},A.bind(window,"keydown",oe._keydownHandler,!1),i.extend(oe.prototype,{add:function(e,t){return de(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return de(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;i.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ee.removeChild(this.domElement);var e=this;i.each(this.__folders,function(t){e.removeFolder(t)}),A.unbind(window,"keydown",oe._keydownHandler,!1),re(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new oe(t);this.__folders[e]=n;var o=ie(this,n.domElement);return A.addClass(o,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],re(e);var t=this;i.each(e.__folders,function(t){e.removeFolder(t)}),i.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=A.getOffset(e.__ul).top,n=0;i.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=A.getHeight(t))}),window.innerHeight-t-W<n?(A.addClass(e.domElement,oe.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-W+"px"):(A.removeClass(e.domElement,oe.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&i.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:i.debounce(function(){this.onResize()},50),remember:function(){if(i.isUndefined(Z)&&((Z=new X).domElement.innerHTML=z),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;i.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&he(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&fe(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=me(this)),e.folders={},i.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=me(this),se(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[Q]=me(this,!0)),this.load.remembered[e]=me(this),this.preset=e,ue(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){i.each(this.__controllers,function(t){this.getRoot().load.remembered?le(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),i.each(this.__folders,function(e){e.revert(e)}),e||se(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&be(this.__listening)},updateDisplay:function(){i.each(this.__controllers,function(e){e.updateDisplay()}),i.each(this.__folders,function(e){e.updateDisplay()})}});var ve={Color:g,math:c,interpret:l};exports.color=ve;var ye={Controller:y,BooleanController:k,OptionController:S,StringController:O,NumberController:L,NumberControllerBox:B,NumberControllerSlider:H,FunctionController:F,ColorController:P};exports.controllers=ye;var we={dom:A};exports.dom=we;var xe={GUI:oe};exports.gui=xe;var Ee=oe;exports.GUI=Ee;var Ce={color:ve,controllers:ye,dom:we,gui:xe,GUI:Ee},Ae=Ce;exports.default=Ae;
},{}],"tMTn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},e={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},r=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],t={CSS:{},springs:{}};function a(n,e,r){return Math.min(Math.max(n,e),r)}function u(n,e){return n.indexOf(e)>-1}function o(n,e){return n.apply(null,e)}var i={arr:function(n){return Array.isArray(n)},obj:function(n){return u(Object.prototype.toString.call(n),"Object")},pth:function(n){return i.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||i.svg(n)},str:function(n){return"string"==typeof n},fnc:function(n){return"function"==typeof n},und:function(n){return void 0===n},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return i.hex(n)||i.rgb(n)||i.hsl(n)},key:function(r){return!n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&"targets"!==r&&"keyframes"!==r}};function c(n){var e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function s(n,e){var r=c(n),u=a(i.und(r[0])?1:r[0],.1,100),o=a(i.und(r[1])?100:r[1],.1,100),s=a(i.und(r[2])?10:r[2],.1,100),f=a(i.und(r[3])?0:r[3],.1,100),l=Math.sqrt(o/u),d=s/(2*Math.sqrt(o*u)),p=d<1?l*Math.sqrt(1-d*d):0,v=1,h=d<1?(d*l-f)/p:-f+l;function g(n){var r=e?e*n/1e3:n;return r=d<1?Math.exp(-r*d*l)*(v*Math.cos(p*r)+h*Math.sin(p*r)):(v+h*r)*Math.exp(-r*l),0===n||1===n?n:1-r}return e?g:function(){var e=t.springs[n];if(e)return e;for(var r=0,a=0;;)if(1===g(r+=1/6)){if(++a>=16)break}else a=0;var u=r*(1/6)*1e3;return t.springs[n]=u,u}}function f(n){return void 0===n&&(n=10),function(e){return Math.ceil(a(e,1e-6,1)*n)*(1/n)}}var l=function(){var n=11,e=1/(n-1);function r(n,e){return 1-3*e+3*n}function t(n,e){return 3*e-6*n}function a(n){return 3*n}function u(n,e,u){return((r(e,u)*n+t(e,u))*n+a(e))*n}function o(n,e,u){return 3*r(e,u)*n*n+2*t(e,u)*n+a(e)}return function(r,t,a,i){if(0<=r&&r<=1&&0<=a&&a<=1){var c=new Float32Array(n);if(r!==t||a!==i)for(var s=0;s<n;++s)c[s]=u(s*e,r,a);return function(n){return r===t&&a===i?n:0===n||1===n?n:u(f(n),t,i)}}function f(t){for(var i=0,s=1,f=n-1;s!==f&&c[s]<=t;++s)i+=e;var l=i+(t-c[--s])/(c[s+1]-c[s])*e,d=o(l,r,a);return d>=.001?function(n,e,r,t){for(var a=0;a<4;++a){var i=o(e,r,t);if(0===i)return e;e-=(u(e,r,t)-n)/i}return e}(t,l,r,a):0===d?l:function(n,e,r,t,a){var o,i,c=0;do{(o=u(i=e+(r-e)/2,t,a)-n)>0?r=i:e=i}while(Math.abs(o)>1e-7&&++c<10);return i}(t,i,i+e,r,a)}}}(),d=function(){var n={linear:function(){return function(n){return n}}},e={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var e,r=4;n<((e=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*e-2)/22-n,2)}},Elastic:function(n,e){void 0===n&&(n=1),void 0===e&&(e=.5);var r=a(n,1,10),t=a(e,.1,2);return function(n){return 0===n||1===n?n:-r*Math.pow(2,10*(n-1))*Math.sin((n-1-t/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/t)}}};return["Quad","Cubic","Quart","Quint","Expo"].forEach(function(n,r){e[n]=function(){return function(n){return Math.pow(n,r+2)}}}),Object.keys(e).forEach(function(r){var t=e[r];n["easeIn"+r]=t,n["easeOut"+r]=function(n,e){return function(r){return 1-t(n,e)(1-r)}},n["easeInOut"+r]=function(n,e){return function(r){return r<.5?t(n,e)(2*r)/2:1-t(n,e)(-2*r+2)/2}}}),n}();function p(n,e){if(i.fnc(n))return n;var r=n.split("(")[0],t=d[r],a=c(n);switch(r){case"spring":return s(n,e);case"cubicBezier":return o(l,a);case"steps":return o(f,a);default:return o(t,a)}}function v(n){try{return document.querySelectorAll(n)}catch(e){return}}function h(n,e){for(var r=n.length,t=arguments.length>=2?arguments[1]:void 0,a=[],u=0;u<r;u++)if(u in n){var o=n[u];e.call(t,o,u,n)&&a.push(o)}return a}function g(n){return n.reduce(function(n,e){return n.concat(i.arr(e)?g(e):e)},[])}function m(n){return i.arr(n)?n:(i.str(n)&&(n=v(n)||n),n instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n])}function y(n,e){return n.some(function(n){return n===e})}function b(n){var e={};for(var r in n)e[r]=n[r];return e}function x(n,e){var r=b(n);for(var t in n)r[t]=e.hasOwnProperty(t)?e[t]:n[t];return r}function M(n,e){var r=b(n);for(var t in e)r[t]=i.und(n[t])?e[t]:n[t];return r}function w(n){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);return e?"rgba("+e[1]+",1)":n}function O(n){var e=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,e,r,t){return e+e+r+r+t+t}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"}function k(n){var e,r,t,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(n),u=parseInt(a[1],10)/360,o=parseInt(a[2],10)/100,i=parseInt(a[3],10)/100,c=a[4]||1;function s(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+6*(e-n)*r:r<.5?e:r<2/3?n+(e-n)*(2/3-r)*6:n}if(0==o)e=r=t=i;else{var f=i<.5?i*(1+o):i+o-i*o,l=2*i-f;e=s(l,f,u+1/3),r=s(l,f,u),t=s(l,f,u-1/3)}return"rgba("+255*e+","+255*r+","+255*t+","+c+")"}function C(n){return i.rgb(n)?w(n):i.hex(n)?O(n):i.hsl(n)?k(n):void 0}function P(n){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(e)return e[1]}function B(n){return u(n,"translate")||"perspective"===n?"px":u(n,"rotate")||u(n,"skew")?"deg":void 0}function I(n,e){return i.fnc(n)?n(e.target,e.id,e.total):n}function T(n,e){return n.getAttribute(e)}function D(n,e,r){if(y([r,"deg","rad","turn"],P(e)))return e;var a=t.CSS[e+r];if(!i.und(a))return a;var u=document.createElement(n.tagName),o=n.parentNode&&n.parentNode!==document?n.parentNode:document.body;o.appendChild(u),u.style.position="absolute",u.style.width=100+r;var c=100/u.offsetWidth;o.removeChild(u);var s=c*parseFloat(e);return t.CSS[e+r]=s,s}function E(n,e,r){if(e in n.style){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=n.style[e]||getComputedStyle(n).getPropertyValue(t)||"0";return r?D(n,a,r):a}}function F(n,e){return i.dom(n)&&!i.inp(n)&&(T(n,e)||i.svg(n)&&n[e])?"attribute":i.dom(n)&&y(r,e)?"transform":i.dom(n)&&"transform"!==e&&E(n,e)?"css":null!=n[e]?"object":void 0}function N(n){if(i.dom(n)){for(var e,r=n.style.transform||"",t=/(\w+)\(([^)]*)\)/g,a=new Map;e=t.exec(r);)a.set(e[1],e[2]);return a}}function A(n,e,r,t){var a=u(e,"scale")?1:0+B(e),o=N(n).get(e)||a;return r&&(r.transforms.list.set(e,o),r.transforms.last=e),t?D(n,o,t):o}function L(n,e,r,t){switch(F(n,e)){case"transform":return A(n,e,t,r);case"css":return E(n,e,r);case"attribute":return T(n,e);default:return n[e]||0}}function j(n,e){var r=/^(\*=|\+=|-=)/.exec(n);if(!r)return n;var t=P(n)||0,a=parseFloat(e),u=parseFloat(n.replace(r[0],""));switch(r[0][0]){case"+":return a+u+t;case"-":return a-u+t;case"*":return a*u+t}}function S(n,e){if(i.col(n))return C(n);if(/\s/g.test(n))return n;var r=P(n),t=r?n.substr(0,n.length-r.length):n;return e?t+e:t}function q(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function $(n){return 2*Math.PI*T(n,"r")}function X(n){return 2*T(n,"width")+2*T(n,"height")}function Y(n){return q({x:T(n,"x1"),y:T(n,"y1")},{x:T(n,"x2"),y:T(n,"y2")})}function Z(n){for(var e,r=n.points,t=0,a=0;a<r.numberOfItems;a++){var u=r.getItem(a);a>0&&(t+=q(e,u)),e=u}return t}function Q(n){var e=n.points;return Z(n)+q(e.getItem(e.numberOfItems-1),e.getItem(0))}function V(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return $(n);case"rect":return X(n);case"line":return Y(n);case"polyline":return Z(n);case"polygon":return Q(n)}}function z(n){var e=V(n);return n.setAttribute("stroke-dasharray",e),e}function H(n){for(var e=n.parentNode;i.svg(e)&&i.svg(e.parentNode);)e=e.parentNode;return e}function _(n,e){var r=e||{},t=r.el||H(n),a=t.getBoundingClientRect(),u=T(t,"viewBox"),o=a.width,i=a.height,c=r.viewBox||(u?u.split(" "):[0,0,o,i]);return{el:t,viewBox:c,x:c[0]/1,y:c[1]/1,w:o/c[2],h:i/c[3]}}function G(n,e){var r=i.str(n)?v(n)[0]:n,t=e||100;return function(n){return{property:n,el:r,svg:_(r),totalLength:V(r)*(t/100)}}}function R(n,e){function r(r){void 0===r&&(r=0);var t=e+r>=1?e+r:0;return n.el.getPointAtLength(t)}var t=_(n.el,n.svg),a=r(),u=r(-1),o=r(1);switch(n.property){case"x":return(a.x-t.x)*t.w;case"y":return(a.y-t.y)*t.h;case"angle":return 180*Math.atan2(o.y-u.y,o.x-u.x)/Math.PI}}function W(n,e){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,t=S(i.pth(n)?n.totalLength:n,e)+"";return{original:t,numbers:t.match(r)?t.match(r).map(Number):[0],strings:i.str(n)||e?t.split(r):[]}}function J(n){return h(n?g(i.arr(n)?n.map(m):m(n)):[],function(n,e,r){return r.indexOf(n)===e})}function K(n){var e=J(n);return e.map(function(n,r){return{target:n,id:r,total:e.length,transforms:{list:N(n)}}})}function U(n,e){var r=b(e);if(/^spring/.test(r.easing)&&(r.duration=s(r.easing)),i.arr(n)){var t=n.length;2===t&&!i.obj(n[0])?n={value:n}:i.fnc(e.duration)||(r.duration=e.duration/t)}var a=i.arr(n)?n:[n];return a.map(function(n,r){var t=i.obj(n)&&!i.pth(n)?n:{value:n};return i.und(t.delay)&&(t.delay=r?0:e.delay),i.und(t.endDelay)&&(t.endDelay=r===a.length-1?e.endDelay:0),t}).map(function(n){return M(n,r)})}function nn(n){for(var e=h(g(n.map(function(n){return Object.keys(n)})),function(n){return i.key(n)}).reduce(function(n,e){return n.indexOf(e)<0&&n.push(e),n},[]),r={},t=function(t){var a=e[t];r[a]=n.map(function(n){var e={};for(var r in n)i.key(r)?r==a&&(e.value=n[r]):e[r]=n[r];return e})},a=0;a<e.length;a++)t(a);return r}function en(n,e){var r=[],t=e.keyframes;for(var a in t&&(e=M(nn(t),e)),e)i.key(a)&&r.push({name:a,tweens:U(e[a],n)});return r}function rn(n,e){var r={};for(var t in n){var a=I(n[t],e);i.arr(a)&&1===(a=a.map(function(n){return I(n,e)})).length&&(a=a[0]),r[t]=a}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function tn(n,e){var r;return n.tweens.map(function(t){var a=rn(t,e),u=a.value,o=i.arr(u)?u[1]:u,c=P(o),s=L(e.target,n.name,c,e),f=r?r.to.original:s,l=i.arr(u)?u[0]:f,d=P(l)||P(s),v=c||d;return i.und(o)&&(o=f),a.from=W(l,v),a.to=W(j(o,l),v),a.start=r?r.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=p(a.easing,a.duration),a.isPath=i.pth(u),a.isColor=i.col(a.from.original),a.isColor&&(a.round=1),r=a,a})}var an={css:function(n,e,r){return n.style[e]=r},attribute:function(n,e,r){return n.setAttribute(e,r)},object:function(n,e,r){return n[e]=r},transform:function(n,e,r,t,a){if(t.list.set(e,r),e===t.last||a){var u="";t.list.forEach(function(n,e){u+=e+"("+n+") "}),n.style.transform=u}}};function un(n,e){K(n).forEach(function(n){for(var r in e){var t=I(e[r],n),a=n.target,u=P(t),o=L(a,r,u,n),i=j(S(t,u||P(o)),o),c=F(a,r);an[c](a,r,i,n.transforms,!0)}})}function on(n,e){var r=F(n.target,e.name);if(r){var t=tn(e,n),a=t[t.length-1];return{type:r,property:e.name,animatable:n,tweens:t,duration:a.end,delay:t[0].delay,endDelay:a.endDelay}}}function cn(n,e){return h(g(n.map(function(n){return e.map(function(e){return on(n,e)})})),function(n){return!i.und(n)})}function sn(n,e){var r=n.length,t=function(n){return n.timelineOffset?n.timelineOffset:0},a={};return a.duration=r?Math.max.apply(Math,n.map(function(n){return t(n)+n.duration})):e.duration,a.delay=r?Math.min.apply(Math,n.map(function(n){return t(n)+n.delay})):e.delay,a.endDelay=r?a.duration-Math.max.apply(Math,n.map(function(n){return t(n)+n.duration-n.endDelay})):e.endDelay,a}var fn=0;function ln(r){var t=x(n,r),a=x(e,r),u=en(a,r),o=K(r.targets),i=cn(o,u),c=sn(i,a),s=fn;return fn++,M(t,{id:s,children:[],animatables:o,animations:i,duration:c.duration,delay:c.delay,endDelay:c.endDelay})}var dn,pn=[],vn=[],hn=function(){function n(){dn=requestAnimationFrame(e)}function e(e){var r=pn.length;if(r){for(var t=0;t<r;){var a=pn[t];if(a.paused){var u=pn.indexOf(a);u>-1&&(pn.splice(u,1),r=pn.length)}else a.tick(e);t++}n()}else dn=cancelAnimationFrame(dn)}return n}();function gn(){document.hidden?(pn.forEach(function(n){return n.pause()}),vn=pn.slice(0),mn.running=pn=[]):vn.forEach(function(n){return n.play()})}function mn(n){void 0===n&&(n={});var e,r=0,t=0,u=0,o=0,i=null;function c(n){var e=window.Promise&&new Promise(function(n){return i=n});return n.finished=e,e}var s=ln(n);c(s);function f(){var n=s.direction;"alternate"!==n&&(s.direction="normal"!==n?"normal":"reverse"),s.reversed=!s.reversed,e.forEach(function(n){return n.reversed=s.reversed})}function l(n){return s.reversed?s.duration-n:n}function d(){r=0,t=l(s.currentTime)*(1/mn.speed)}function p(n,e){e&&e.seek(n-e.timelineOffset)}function v(n){for(var e=0,r=s.animations,t=r.length;e<t;){var u=r[e],o=u.animatable,i=u.tweens,c=i.length-1,f=i[c];c&&(f=h(i,function(e){return n<e.end})[0]||f);for(var l=a(n-f.start-f.delay,0,f.duration)/f.duration,d=isNaN(l)?1:f.easing(l),p=f.to.strings,v=f.round,g=[],m=f.to.numbers.length,y=void 0,b=0;b<m;b++){var x=void 0,M=f.to.numbers[b],w=f.from.numbers[b]||0;x=f.isPath?R(f.value,d*M):w+d*(M-w),v&&(f.isColor&&b>2||(x=Math.round(x*v)/v)),g.push(x)}var O=p.length;if(O){y=p[0];for(var k=0;k<O;k++){p[k];var C=p[k+1],P=g[k];isNaN(P)||(y+=C?P+C:P+" ")}}else y=g[0];an[u.type](o.target,u.property,y,o.transforms),u.currentValue=y,e++}}function g(n){s[n]&&!s.passThrough&&s[n](s)}function m(n){var d=s.duration,h=s.delay,m=d-s.endDelay,y=l(n);s.progress=a(y/d*100,0,100),s.reversePlayback=y<s.currentTime,e&&function(n){if(s.reversePlayback)for(var r=o;r--;)p(n,e[r]);else for(var t=0;t<o;t++)p(n,e[t])}(y),!s.began&&s.currentTime>0&&(s.began=!0,g("begin")),!s.loopBegan&&s.currentTime>0&&(s.loopBegan=!0,g("loopBegin")),y<=h&&0!==s.currentTime&&v(0),(y>=m&&s.currentTime!==d||!d)&&v(d),y>h&&y<m?(s.changeBegan||(s.changeBegan=!0,s.changeCompleted=!1,g("changeBegin")),g("change"),v(y)):s.changeBegan&&(s.changeCompleted=!0,s.changeBegan=!1,g("changeComplete")),s.currentTime=a(y,0,d),s.began&&g("update"),n>=d&&(t=0,s.remaining&&!0!==s.remaining&&s.remaining--,s.remaining?(r=u,g("loopComplete"),s.loopBegan=!1,"alternate"===s.direction&&f()):(s.paused=!0,s.completed||(s.completed=!0,g("loopComplete"),g("complete"),!s.passThrough&&"Promise"in window&&(i(),c(s)))))}return s.reset=function(){var n=s.direction;s.passThrough=!1,s.currentTime=0,s.progress=0,s.paused=!0,s.began=!1,s.loopBegan=!1,s.changeBegan=!1,s.completed=!1,s.changeCompleted=!1,s.reversePlayback=!1,s.reversed="reverse"===n,s.remaining=s.loop,e=s.children;for(var r=o=e.length;r--;)s.children[r].reset();(s.reversed&&!0!==s.loop||"alternate"===n&&1===s.loop)&&s.remaining++,v(s.reversed?s.duration:0)},s.set=function(n,e){return un(n,e),s},s.tick=function(n){u=n,r||(r=u),m((u+(t-r))*mn.speed)},s.seek=function(n){m(l(n))},s.pause=function(){s.paused=!0,d()},s.play=function(){s.paused&&(s.completed&&s.reset(),s.paused=!1,pn.push(s),d(),dn||hn())},s.reverse=function(){f(),s.completed=!s.reversed,d()},s.restart=function(){s.reset(),s.play()},s.reset(),s.autoplay&&s.play(),s}function yn(n,e){for(var r=e.length;r--;)y(n,e[r].animatable.target)&&e.splice(r,1)}function bn(n){for(var e=J(n),r=pn.length;r--;){var t=pn[r],a=t.animations,u=t.children;yn(e,a);for(var o=u.length;o--;){var i=u[o],c=i.animations;yn(e,c),c.length||i.children.length||u.splice(o,1)}a.length||u.length||t.pause()}}function xn(n,e){void 0===e&&(e={});var r=e.direction||"normal",t=e.easing?p(e.easing):null,a=e.grid,u=e.axis,o=e.from||0,c="first"===o,s="center"===o,f="last"===o,l=i.arr(n),d=l?parseFloat(n[0]):parseFloat(n),v=l?parseFloat(n[1]):0,h=P(l?n[1]:n)||0,g=e.start||0+(l?d:0),m=[],y=0;return function(n,e,i){if(c&&(o=0),s&&(o=(i-1)/2),f&&(o=i-1),!m.length){for(var p=0;p<i;p++){if(a){var b=s?(a[0]-1)/2:o%a[0],x=s?(a[1]-1)/2:Math.floor(o/a[0]),M=b-p%a[0],w=x-Math.floor(p/a[0]),O=Math.sqrt(M*M+w*w);"x"===u&&(O=-M),"y"===u&&(O=-w),m.push(O)}else m.push(Math.abs(o-p));y=Math.max.apply(Math,m)}t&&(m=m.map(function(n){return t(n/y)*y})),"reverse"===r&&(m=m.map(function(n){return u?n<0?-1*n:-n:Math.abs(y-n)}))}return g+(l?(v-d)/y:d)*(Math.round(100*m[e])/100)+h}}function Mn(n){void 0===n&&(n={});var r=mn(n);return r.duration=0,r.add=function(t,a){var u=pn.indexOf(r),o=r.children;function c(n){n.passThrough=!0}u>-1&&pn.splice(u,1);for(var s=0;s<o.length;s++)c(o[s]);var f=M(t,x(e,n));f.targets=f.targets||n.targets;var l=r.duration;f.autoplay=!1,f.direction=r.direction,f.timelineOffset=i.und(a)?l:j(a,l),c(r),r.seek(f.timelineOffset);var d=mn(f);c(d),o.push(d);var p=sn(o,n);return r.delay=p.delay,r.endDelay=p.endDelay,r.duration=p.duration,r.seek(0),r.reset(),r.autoplay&&r.play(),r},r}"undefined"!=typeof document&&document.addEventListener("visibilitychange",gn),mn.version="3.2.0",mn.speed=1,mn.running=pn,mn.remove=bn,mn.get=L,mn.set=un,mn.convertPx=D,mn.path=G,mn.setDashoffset=z,mn.stagger=xn,mn.timeline=Mn,mn.easing=p,mn.penner=d,mn.random=function(n,e){return Math.floor(Math.random()*(e-n+1))+n};var wn=mn;exports.default=wn;
},{}],"fApO":[function(require,module,exports) {
!function(n,t){"object"==typeof module&&module.exports?module.exports=t():n.Zdog=t()}(this,function(){var n={};n.TAU=2*Math.PI,n.extend=function(n,t){for(var r in t)n[r]=t[r];return n},n.lerp=function(n,t,r){return(t-n)*r+n},n.modulo=function(n,t){return(n%t+t)%t};var t={2:function(n){return n*n},3:function(n){return n*n*n},4:function(n){return n*n*n*n},5:function(n){return n*n*n*n*n}};return n.easeInOut=function(n,r){if(1==r)return n;var u=(n=Math.max(0,Math.min(1,n)))<.5,e=u?n:1-n,o=(t[r]||t[2])(e/=.5);return o/=2,u?o:1-o},n});
},{}],"lf5J":[function(require,module,exports) {
!function(n,e){"object"==typeof module&&module.exports?module.exports=e():n.Zdog.CanvasRenderer=e()}(this,function(){var n={isCanvas:!0,begin:function(n){n.beginPath()},move:function(n,e,t){n.moveTo(t.x,t.y)},line:function(n,e,t){n.lineTo(t.x,t.y)},bezier:function(n,e,t,o,i){n.bezierCurveTo(t.x,t.y,o.x,o.y,i.x,i.y)},closePath:function(n){n.closePath()},setPath:function(){},renderPath:function(e,t,o,i){this.begin(e,t),o.forEach(function(o){o.render(e,t,n)}),i&&this.closePath(e,t)},stroke:function(n,e,t,o,i){t&&(n.strokeStyle=o,n.lineWidth=i,n.stroke())},fill:function(n,e,t,o){t&&(n.fillStyle=o,n.fill())},end:function(){}};return n});
},{}],"eJWg":[function(require,module,exports) {
!function(t,n){"object"==typeof module&&module.exports?module.exports=n():t.Zdog.SvgRenderer=n()}(this,function(){var t={isSvg:!0},n=t.round=function(t){return Math.round(1e3*t)/1e3};function e(t){return n(t.x)+","+n(t.y)+" "}return t.begin=function(){},t.move=function(t,n,r){return"M"+e(r)},t.line=function(t,n,r){return"L"+e(r)},t.bezier=function(t,n,r,o,u){return"C"+e(r)+e(o)+e(u)},t.closePath=function(){return"Z"},t.setPath=function(t,n,e){n.setAttribute("d",e)},t.renderPath=function(n,e,r,o){var u="";r.forEach(function(r){u+=r.render(n,e,t)}),o&&(u+=this.closePath(n,e)),this.setPath(n,e,u)},t.stroke=function(t,n,e,r,o){e&&(n.setAttribute("stroke",r),n.setAttribute("stroke-width",o))},t.fill=function(t,n,e,r){var o=e?r:"none";n.setAttribute("fill",o)},t.end=function(t,n){t.appendChild(n)},t});
},{}],"rpjK":[function(require,module,exports) {
!function(t,i){if("object"==typeof module&&module.exports)module.exports=i(require("./boilerplate"));else{var s=t.Zdog;s.Vector=i(s)}}(this,function(t){function i(t){this.set(t)}var s=t.TAU;function o(t,i,o,r){if(i&&i%s!=0){var h=Math.cos(i),n=Math.sin(i),e=t[o],u=t[r];t[o]=e*h-u*n,t[r]=u*h+e*n}}function r(t){return Math.abs(t-1)<1e-8?1:Math.sqrt(t)}return i.prototype.set=function(t){return this.x=t&&t.x||0,this.y=t&&t.y||0,this.z=t&&t.z||0,this},i.prototype.write=function(t){return t?(this.x=null!=t.x?t.x:this.x,this.y=null!=t.y?t.y:this.y,this.z=null!=t.z?t.z:this.z,this):this},i.prototype.rotate=function(t){if(t)return this.rotateZ(t.z),this.rotateY(t.y),this.rotateX(t.x),this},i.prototype.rotateZ=function(t){o(this,t,"x","y")},i.prototype.rotateX=function(t){o(this,t,"y","z")},i.prototype.rotateY=function(t){o(this,t,"x","z")},i.prototype.isSame=function(t){return!!t&&(this.x===t.x&&this.y===t.y&&this.z===t.z)},i.prototype.add=function(t){return t?(this.x+=t.x||0,this.y+=t.y||0,this.z+=t.z||0,this):this},i.prototype.subtract=function(t){return t?(this.x-=t.x||0,this.y-=t.y||0,this.z-=t.z||0,this):this},i.prototype.multiply=function(t){return null==t?this:("number"==typeof t?(this.x*=t,this.y*=t,this.z*=t):(this.x*=null!=t.x?t.x:1,this.y*=null!=t.y?t.y:1,this.z*=null!=t.z?t.z:1),this)},i.prototype.transform=function(t,i,s){return this.multiply(s),this.rotate(i),this.add(t),this},i.prototype.lerp=function(i,s){return this.x=t.lerp(this.x,i.x||0,s),this.y=t.lerp(this.y,i.y||0,s),this.z=t.lerp(this.z,i.z||0,s),this},i.prototype.magnitude=function(){return r(this.x*this.x+this.y*this.y+this.z*this.z)},i.prototype.magnitude2d=function(){return r(this.x*this.x+this.y*this.y)},i.prototype.copy=function(){return new i(this)},i});
},{"./boilerplate":"fApO"}],"sxCm":[function(require,module,exports) {
!function(t,r){if("object"==typeof module&&module.exports)module.exports=r(require("./boilerplate"),require("./vector"),require("./canvas-renderer"),require("./svg-renderer"));else{var e=t.Zdog;e.Anchor=r(e,e.Vector,e.CanvasRenderer,e.SvgRenderer)}}(this,function(t,r,e,o){var n=t.TAU,i={x:1,y:1,z:1};function a(t){this.create(t||{})}return a.prototype.create=function(e){this.children=[],t.extend(this,this.constructor.defaults),this.setOptions(e),this.translate=new r(e.translate),this.rotate=new r(e.rotate),this.scale=new r(i).multiply(this.scale),this.origin=new r,this.renderOrigin=new r,this.addTo&&this.addTo.addChild(this)},a.defaults={},a.optionKeys=Object.keys(a.defaults).concat(["rotate","translate","scale","addTo"]),a.prototype.setOptions=function(t){var r=this.constructor.optionKeys;for(var e in t)-1!=r.indexOf(e)&&(this[e]=t[e])},a.prototype.addChild=function(t){-1==this.children.indexOf(t)&&(t.remove(),t.addTo=this,this.children.push(t))},a.prototype.removeChild=function(t){var r=this.children.indexOf(t);-1!=r&&this.children.splice(r,1)},a.prototype.remove=function(){this.addTo&&this.addTo.removeChild(this)},a.prototype.update=function(){this.reset(),this.children.forEach(function(t){t.update()}),this.transform(this.translate,this.rotate,this.scale)},a.prototype.reset=function(){this.renderOrigin.set(this.origin)},a.prototype.transform=function(t,r,e){this.renderOrigin.transform(t,r,e),this.children.forEach(function(o){o.transform(t,r,e)})},a.prototype.updateGraph=function(){this.update(),this.updateFlatGraph(),this.flatGraph.forEach(function(t){t.updateSortValue()}),this.flatGraph.sort(a.shapeSorter)},a.shapeSorter=function(t,r){return t.sortValue-r.sortValue},Object.defineProperty(a.prototype,"flatGraph",{get:function(){return this._flatGraph||this.updateFlatGraph(),this._flatGraph},set:function(t){this._flatGraph=t}}),a.prototype.updateFlatGraph=function(){this.flatGraph=this.getFlatGraph()},a.prototype.getFlatGraph=function(){var t=[this];return this.addChildFlatGraph(t)},a.prototype.addChildFlatGraph=function(t){return this.children.forEach(function(r){var e=r.getFlatGraph();Array.prototype.push.apply(t,e)}),t},a.prototype.updateSortValue=function(){this.sortValue=this.renderOrigin.z},a.prototype.render=function(){},a.prototype.renderGraphCanvas=function(t){if(!t)throw new Error("ctx is "+t+". Canvas context required for render. Check .renderGraphCanvas( ctx ).");this.flatGraph.forEach(function(r){r.render(t,e)})},a.prototype.renderGraphSvg=function(t){if(!t)throw new Error("svg is "+t+". SVG required for render. Check .renderGraphSvg( svg ).");this.flatGraph.forEach(function(r){r.render(t,o)})},a.prototype.copy=function(r){var e={};return this.constructor.optionKeys.forEach(function(t){e[t]=this[t]},this),t.extend(e,r),new(0,this.constructor)(e)},a.prototype.copyGraph=function(t){var r=this.copy(t);return this.children.forEach(function(t){t.copyGraph({addTo:r})}),r},a.prototype.normalizeRotate=function(){this.rotate.x=t.modulo(this.rotate.x,n),this.rotate.y=t.modulo(this.rotate.y,n),this.rotate.z=t.modulo(this.rotate.z,n)},a.subclass=function r(e){return function(o){function n(t){this.create(t||{})}return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.defaults=t.extend({},e.defaults),t.extend(n.defaults,o),n.optionKeys=e.optionKeys.slice(0),Object.keys(n.defaults).forEach(function(t){1!=!n.optionKeys.indexOf(t)&&n.optionKeys.push(t)}),n.subclass=r(n),n}}(a),a});
},{"./boilerplate":"fApO","./vector":"rpjK","./canvas-renderer":"lf5J","./svg-renderer":"eJWg"}],"WQya":[function(require,module,exports) {
!function(t,o){"object"==typeof module&&module.exports?module.exports=o():t.Zdog.Dragger=o()}(this,function(){var t="undefined"!=typeof window,o="mousedown",e="mousemove",n="mouseup";function r(){}function i(t){this.create(t||{})}return t&&(window.PointerEvent?(o="pointerdown",e="pointermove",n="pointerup"):"ontouchstart"in window&&(o="touchstart",e="touchmove",n="touchend")),i.prototype.create=function(t){this.onDragStart=t.onDragStart||r,this.onDragMove=t.onDragMove||r,this.onDragEnd=t.onDragEnd||r,this.bindDrag(t.startElement)},i.prototype.bindDrag=function(t){(t=this.getQueryElement(t))&&(t.style.touchAction="none",t.addEventListener(o,this))},i.prototype.getQueryElement=function(t){return"string"==typeof t&&(t=document.querySelector(t)),t},i.prototype.handleEvent=function(t){var o=this["on"+t.type];o&&o.call(this,t)},i.prototype.onmousedown=i.prototype.onpointerdown=function(t){this.dragStart(t,t)},i.prototype.ontouchstart=function(t){this.dragStart(t,t.changedTouches[0])},i.prototype.dragStart=function(o,r){o.preventDefault(),this.dragStartX=r.pageX,this.dragStartY=r.pageY,t&&(window.addEventListener(e,this),window.addEventListener(n,this)),this.onDragStart(r)},i.prototype.ontouchmove=function(t){this.dragMove(t,t.changedTouches[0])},i.prototype.onmousemove=i.prototype.onpointermove=function(t){this.dragMove(t,t)},i.prototype.dragMove=function(t,o){t.preventDefault();var e=o.pageX-this.dragStartX,n=o.pageY-this.dragStartY;this.onDragMove(o,e,n)},i.prototype.onmouseup=i.prototype.onpointerup=i.prototype.ontouchend=i.prototype.dragEnd=function(){window.removeEventListener(e,this),window.removeEventListener(n,this),this.onDragEnd()},i});
},{}],"oesO":[function(require,module,exports) {
!function(t,e){if("object"==typeof module&&module.exports)module.exports=e(require("./boilerplate"),require("./anchor"),require("./dragger"));else{var i=t.Zdog;i.Illustration=e(i,i.Anchor,i.Dragger)}}(this,function(t,e,i){function s(){}var r=t.TAU,h=e.subclass({element:void 0,centered:!0,zoom:1,dragRotate:!1,resize:!1,onPrerender:s,onDragStart:s,onDragMove:s,onDragEnd:s,onResize:s});return t.extend(h.prototype,i.prototype),h.prototype.create=function(t){e.prototype.create.call(this,t),i.prototype.create.call(this,t),this.setElement(this.element),this.setDragRotate(this.dragRotate),this.setResize(this.resize)},h.prototype.setElement=function(t){if(!(t=this.getQueryElement(t)))throw new Error("Zdog.Illustration element required. Set to "+t);var e=t.nodeName.toLowerCase();"canvas"==e?this.setCanvas(t):"svg"==e&&this.setSvg(t)},h.prototype.setSize=function(t,e){t=Math.round(t),e=Math.round(e),this.isCanvas?this.setSizeCanvas(t,e):this.isSvg&&this.setSizeSvg(t,e)},h.prototype.setResize=function(t){this.resize=t,this.resizeListener||(this.resizeListener=this.onWindowResize.bind(this)),t?(window.addEventListener("resize",this.resizeListener),this.onWindowResize()):window.removeEventListener("resize",this.resizeListener)},h.prototype.onWindowResize=function(){this.setMeasuredSize(),this.onResize(this.width,this.height)},h.prototype.setMeasuredSize=function(){var t,e;if("fullscreen"==this.resize)t=window.innerWidth,e=window.innerHeight;else{var i=this.element.getBoundingClientRect();t=i.width,e=i.height}this.setSize(t,e)},h.prototype.renderGraph=function(t){this.isCanvas?this.renderGraphCanvas(t):this.isSvg&&this.renderGraphSvg(t)},h.prototype.updateRenderGraph=function(t){this.updateGraph(),this.renderGraph(t)},h.prototype.setCanvas=function(t){this.element=t,this.isCanvas=!0,this.ctx=this.element.getContext("2d"),this.setSizeCanvas(t.width,t.height)},h.prototype.setSizeCanvas=function(t,e){this.width=t,this.height=e;var i=this.pixelRatio=window.devicePixelRatio||1;this.element.width=this.canvasWidth=t*i,this.element.height=this.canvasHeight=e*i,i>1&&!this.resize&&(this.element.style.width=t+"px",this.element.style.height=e+"px")},h.prototype.renderGraphCanvas=function(t){t=t||this,this.prerenderCanvas(),e.prototype.renderGraphCanvas.call(t,this.ctx),this.postrenderCanvas()},h.prototype.prerenderCanvas=function(){var t=this.ctx;if(t.lineCap="round",t.lineJoin="round",t.clearRect(0,0,this.canvasWidth,this.canvasHeight),t.save(),this.centered){var e=this.width/2*this.pixelRatio,i=this.height/2*this.pixelRatio;t.translate(e,i)}var s=this.pixelRatio*this.zoom;t.scale(s,s),this.onPrerender(t)},h.prototype.postrenderCanvas=function(){this.ctx.restore()},h.prototype.setSvg=function(t){this.element=t,this.isSvg=!0,this.pixelRatio=1;var e=t.getAttribute("width"),i=t.getAttribute("height");this.setSizeSvg(e,i)},h.prototype.setSizeSvg=function(t,e){this.width=t,this.height=e;var i=t/this.zoom,s=e/this.zoom,r=this.centered?-i/2:0,h=this.centered?-s/2:0;this.element.setAttribute("viewBox",r+" "+h+" "+i+" "+s),this.resize?(this.element.removeAttribute("width"),this.element.removeAttribute("height")):(this.element.setAttribute("width",t),this.element.setAttribute("height",e))},h.prototype.renderGraphSvg=function(t){t=t||this,function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(this.element),this.onPrerender(this.element),e.prototype.renderGraphSvg.call(t,this.element)},h.prototype.setDragRotate=function(t){t&&(!0===t&&(t=this),this.dragRotate=t,this.bindDrag(this.element))},h.prototype.dragStart=function(){this.dragStartRX=this.dragRotate.rotate.x,this.dragStartRY=this.dragRotate.rotate.y,i.prototype.dragStart.apply(this,arguments)},h.prototype.dragMove=function(t,e){var s=e.pageX-this.dragStartX,h=e.pageY-this.dragStartY,n=Math.min(this.width,this.height),o=s/n*r,a=h/n*r;this.dragRotate.rotate.x=this.dragStartRX-a,this.dragRotate.rotate.y=this.dragStartRY-o,i.prototype.dragMove.apply(this,arguments)},h});
},{"./boilerplate":"fApO","./anchor":"sxCm","./dragger":"WQya"}],"eNlb":[function(require,module,exports) {
!function(t,n){if("object"==typeof module&&module.exports)module.exports=n(require("./vector"));else{var e=t.Zdog;e.PathCommand=n(e.Vector)}}(this,function(t){function n(n,o,i){this.method=n,this.points=o.map(e),this.renderPoints=o.map(r),this.previousPoint=i,this.endRenderPoint=this.renderPoints[this.renderPoints.length-1],"arc"==n&&(this.controlPoints=[new t,new t])}function e(n){return n instanceof t?n:new t(n)}function r(n){return new t(n)}n.prototype.reset=function(){var t=this.points;this.renderPoints.forEach(function(n,e){var r=t[e];n.set(r)})},n.prototype.transform=function(t,n,e){this.renderPoints.forEach(function(r){r.transform(t,n,e)})},n.prototype.render=function(t,n,e){return this[this.method](t,n,e)},n.prototype.move=function(t,n,e){return e.move(t,n,this.renderPoints[0])},n.prototype.line=function(t,n,e){return e.line(t,n,this.renderPoints[0])},n.prototype.bezier=function(t,n,e){var r=this.renderPoints[0],o=this.renderPoints[1],i=this.renderPoints[2];return e.bezier(t,n,r,o,i)};return n.prototype.arc=function(t,n,e){var r=this.previousPoint,o=this.renderPoints[0],i=this.renderPoints[1],s=this.controlPoints[0],h=this.controlPoints[1];return s.set(r).lerp(o,9/16),h.set(i).lerp(o,9/16),e.bezier(t,n,s,h,i)},n});
},{"./vector":"rpjK"}],"slvd":[function(require,module,exports) {
!function(t,e){if("object"==typeof module&&module.exports)module.exports=e(require("./boilerplate"),require("./vector"),require("./path-command"),require("./anchor"));else{var r=t.Zdog;r.Shape=e(r,r.Vector,r.PathCommand,r.Anchor)}}(this,function(t,e,r,n){var i=n.subclass({stroke:1,fill:!1,color:"#333",closed:!0,visible:!0,path:[{}],front:{z:1},backface:!0});i.prototype.create=function(t){n.prototype.create.call(this,t),this.updatePath(),this.front=new e(t.front||this.front),this.renderFront=new e(this.front),this.renderNormal=new e};var o=["move","line","bezier","arc"];i.prototype.updatePath=function(){this.setPath(),this.updatePathCommands()},i.prototype.setPath=function(){},i.prototype.updatePathCommands=function(){var t;this.pathCommands=this.path.map(function(e,n){var i=Object.keys(e),s=i[0],a=e[s];1==i.length&&-1!=o.indexOf(s)||(s="line",a=e);var h="line"==s||"move"==s,d=Array.isArray(a);h&&!d&&(a=[a]);var c=new r(s=0===n?"move":s,a,t);return t=c.endRenderPoint,c})},i.prototype.reset=function(){this.renderOrigin.set(this.origin),this.renderFront.set(this.front),this.pathCommands.forEach(function(t){t.reset()})},i.prototype.transform=function(t,e,r){this.renderOrigin.transform(t,e,r),this.renderFront.transform(t,e,r),this.renderNormal.set(this.renderOrigin).subtract(this.renderFront),this.pathCommands.forEach(function(n){n.transform(t,e,r)}),this.children.forEach(function(n){n.transform(t,e,r)})},i.prototype.updateSortValue=function(){var t=this.pathCommands.length,e=this.pathCommands[0].endRenderPoint,r=this.pathCommands[t-1].endRenderPoint;t>2&&e.isSame(r)&&(t-=1);for(var n=0,i=0;i<t;i++)n+=this.pathCommands[i].endRenderPoint.z;this.sortValue=n/t},i.prototype.render=function(t,e){var r=this.pathCommands.length;if(this.visible&&r&&(this.isFacingBack=this.renderNormal.z>0,this.backface||!this.isFacingBack)){if(!e)throw new Error("Zdog renderer required. Set to "+e);var n=1==r;e.isCanvas&&n?this.renderCanvasDot(t,e):this.renderPath(t,e)}};var s=t.TAU;i.prototype.renderCanvasDot=function(t){var e=this.getLineWidth();if(e){t.fillStyle=this.getRenderColor();var r=this.pathCommands[0].endRenderPoint;t.beginPath();var n=e/2;t.arc(r.x,r.y,n,0,s),t.fill()}},i.prototype.getLineWidth=function(){return this.stroke?1==this.stroke?1:this.stroke:0},i.prototype.getRenderColor=function(){return"string"==typeof this.backface&&this.isFacingBack?this.backface:this.color},i.prototype.renderPath=function(t,e){var r=this.getRenderElement(t,e),n=!(2==this.pathCommands.length&&"line"==this.pathCommands[1].method)&&this.closed,i=this.getRenderColor();e.renderPath(t,r,this.pathCommands,n),e.stroke(t,r,this.stroke,i,this.getLineWidth()),e.fill(t,r,this.fill,i),e.end(t,r)};return i.prototype.getRenderElement=function(t,e){if(e.isSvg)return this.svgElement||(this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.svgElement.setAttribute("stroke-linecap","round"),this.svgElement.setAttribute("stroke-linejoin","round")),this.svgElement},i});
},{"./boilerplate":"fApO","./vector":"rpjK","./path-command":"eNlb","./anchor":"sxCm"}],"wN38":[function(require,module,exports) {
!function(t,r){if("object"==typeof module&&module.exports)module.exports=r(require("./anchor"));else{var o=t.Zdog;o.Group=r(o.Anchor)}}(this,function(t){var r=t.subclass({updateSort:!1,visible:!0});return r.prototype.updateSortValue=function(){var r=0;this.flatGraph.forEach(function(t){t.updateSortValue(),r+=t.sortValue}),this.sortValue=r/this.flatGraph.length,this.updateSort&&this.flatGraph.sort(t.shapeSorter)},r.prototype.render=function(t,r){this.visible&&this.flatGraph.forEach(function(o){o.render(t,r)})},r.prototype.updateFlatGraph=function(){this.flatGraph=this.addChildFlatGraph([])},r.prototype.getFlatGraph=function(){return[this]},r});
},{"./anchor":"sxCm"}],"CobG":[function(require,module,exports) {
!function(t,e){if("object"==typeof module&&module.exports)module.exports=e(require("./shape"));else{var h=t.Zdog;h.Rect=e(h.Shape)}}(this,function(t){var e=t.subclass({width:1,height:1});return e.prototype.setPath=function(){var t=this.width/2,e=this.height/2;this.path=[{x:-t,y:-e},{x:t,y:-e},{x:t,y:e},{x:-t,y:e}]},e});
},{"./shape":"slvd"}],"l2kq":[function(require,module,exports) {
!function(t,h){if("object"==typeof module&&module.exports)module.exports=h(require("./shape"));else{var e=t.Zdog;e.RoundedRect=h(e.Shape)}}(this,function(t){var h=t.subclass({width:1,height:1,cornerRadius:.25,closed:!1});return h.prototype.setPath=function(){var t=this.width/2,h=this.height/2,e=Math.min(t,h),s=Math.min(this.cornerRadius,e),u=t-s,i=h-s,r=[{x:u,y:-h},{arc:[{x:t,y:-h},{x:t,y:-i}]}];i&&r.push({x:t,y:i}),r.push({arc:[{x:t,y:h},{x:u,y:h}]}),u&&r.push({x:-u,y:h}),r.push({arc:[{x:-t,y:h},{x:-t,y:i}]}),i&&r.push({x:-t,y:-i}),r.push({arc:[{x:-t,y:-h},{x:-u,y:-h}]}),u&&r.push({x:u,y:-h}),this.path=r},h});
},{"./shape":"slvd"}],"RxWQ":[function(require,module,exports) {
!function(t,h){if("object"==typeof module&&module.exports)module.exports=h(require("./shape"));else{var e=t.Zdog;e.Ellipse=h(e.Shape)}}(this,function(t){var h=t.subclass({diameter:1,width:void 0,height:void 0,quarters:4,closed:!1});return h.prototype.setPath=function(){var t=(null!=this.width?this.width:this.diameter)/2,h=(null!=this.height?this.height:this.diameter)/2;this.path=[{x:0,y:-h},{arc:[{x:t,y:-h},{x:t,y:0}]}],this.quarters>1&&this.path.push({arc:[{x:t,y:h},{x:0,y:h}]}),this.quarters>2&&this.path.push({arc:[{x:-t,y:h},{x:-t,y:0}]}),this.quarters>3&&this.path.push({arc:[{x:-t,y:-h},{x:0,y:-h}]})},h});
},{"./shape":"slvd"}],"zsfs":[function(require,module,exports) {
!function(s,t){if("object"==typeof module&&module.exports)module.exports=t(require("./boilerplate"),require("./shape"));else{var e=s.Zdog;e.Polygon=t(e,e.Shape)}}(this,function(s,t){var e=t.subclass({sides:3,radius:.5}),i=s.TAU;return e.prototype.setPath=function(){this.path=[];for(var s=0;s<this.sides;s++){var t=s/this.sides*i-i/4,e=Math.cos(t)*this.radius,o=Math.sin(t)*this.radius;this.path.push({x:e,y:o})}},e});
},{"./boilerplate":"fApO","./shape":"slvd"}],"bJhL":[function(require,module,exports) {
!function(e,t){if("object"==typeof module&&module.exports)module.exports=t(require("./boilerplate"),require("./vector"),require("./anchor"),require("./ellipse"));else{var r=e.Zdog;r.Hemisphere=t(r,r.Vector,r.Anchor,r.Ellipse)}}(this,function(e,t,r,i){var o=i.subclass({fill:!0}),n=e.TAU;o.prototype.create=function(){i.prototype.create.apply(this,arguments),this.apex=new r({addTo:this,translate:{z:this.diameter/2}}),this.renderCentroid=new t},o.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,3/8),this.sortValue=this.renderCentroid.z},o.prototype.render=function(e,t){this.renderDome(e,t),i.prototype.render.apply(this,arguments)},o.prototype.renderDome=function(e,t){if(this.visible){var r=this.getDomeRenderElement(e,t),i=Math.atan2(this.renderNormal.y,this.renderNormal.x),o=this.diameter/2*this.renderNormal.magnitude(),s=this.renderOrigin.x,l=this.renderOrigin.y;if(t.isCanvas){var d=i+n/4,h=i-n/4;e.beginPath(),e.arc(s,l,o,d,h)}else t.isSvg&&(i=(i-n/4)/n*360,this.domeSvgElement.setAttribute("d","M "+-o+",0 A "+o+","+o+" 0 0 1 "+o+",0"),this.domeSvgElement.setAttribute("transform","translate("+s+","+l+" ) rotate("+i+")"));t.stroke(e,r,this.stroke,this.color,this.getLineWidth()),t.fill(e,r,this.fill,this.color),t.end(e,r)}};return o.prototype.getDomeRenderElement=function(e,t){if(t.isSvg)return this.domeSvgElement||(this.domeSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.domeSvgElement.setAttribute("stroke-linecap","round"),this.domeSvgElement.setAttribute("stroke-linejoin","round")),this.domeSvgElement},o});
},{"./boilerplate":"fApO","./vector":"rpjK","./anchor":"sxCm","./ellipse":"RxWQ"}],"KKFs":[function(require,module,exports) {
!function(e,t){if("object"==typeof module&&module.exports)module.exports=t(require("./boilerplate"),require("./path-command"),require("./shape"),require("./group"),require("./ellipse"));else{var r=e.Zdog;r.Cylinder=t(r,r.PathCommand,r.Shape,r.Group,r.Ellipse)}}(this,function(e,t,r,i,o){function s(){}var n=i.subclass({color:"#333",updateSort:!0});n.prototype.create=function(){i.prototype.create.apply(this,arguments),this.pathCommands=[new t("move",[{}]),new t("line",[{}])]},n.prototype.render=function(e,t){this.renderCylinderSurface(e,t),i.prototype.render.apply(this,arguments)},n.prototype.renderCylinderSurface=function(e,t){if(this.visible){var r=this.getRenderElement(e,t),i=this.frontBase,o=this.rearBase,s=i.renderNormal.magnitude(),n=i.diameter*s+i.getLineWidth();this.pathCommands[0].renderPoints[0].set(i.renderOrigin),this.pathCommands[1].renderPoints[0].set(o.renderOrigin),t.isCanvas&&(e.lineCap="butt"),t.renderPath(e,r,this.pathCommands),t.stroke(e,r,!0,this.color,n),t.end(e,r),t.isCanvas&&(e.lineCap="round")}};n.prototype.getRenderElement=function(e,t){if(t.isSvg)return this.svgElement||(this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","path")),this.svgElement},n.prototype.copyGraph=s,o.subclass().prototype.copyGraph=s;var a=r.subclass({diameter:1,length:1,frontFace:void 0,fill:!0}),p=e.TAU;a.prototype.create=function(){r.prototype.create.apply(this,arguments),this.group=new n({addTo:this,color:this.color,visible:this.visible});var e=this.length/2,t=this.backface||!0;this.frontBase=this.group.frontBase=new o({addTo:this.group,diameter:this.diameter,translate:{z:e},rotate:{y:p/2},color:this.color,stroke:this.stroke,fill:this.fill,backface:this.frontFace||t,visible:this.visible}),this.rearBase=this.group.rearBase=this.frontBase.copy({translate:{z:-e},rotate:{y:0},backface:t})},a.prototype.render=function(){};return["stroke","fill","color","visible"].forEach(function(e){var t="_"+e;Object.defineProperty(a.prototype,e,{get:function(){return this[t]},set:function(r){this[t]=r,this.frontBase&&(this.frontBase[e]=r,this.rearBase[e]=r,this.group[e]=r)}})}),a});
},{"./boilerplate":"fApO","./path-command":"eNlb","./shape":"slvd","./group":"wN38","./ellipse":"RxWQ"}],"J55S":[function(require,module,exports) {
!function(e,t){if("object"==typeof module&&module.exports)module.exports=t(require("./boilerplate"),require("./vector"),require("./path-command"),require("./anchor"),require("./ellipse"));else{var r=e.Zdog;r.Cone=t(r,r.Vector,r.PathCommand,r.Anchor,r.Ellipse)}}(this,function(e,t,r,n,i){var s=i.subclass({length:1,fill:!0}),a=e.TAU;s.prototype.create=function(){i.prototype.create.apply(this,arguments),this.apex=new n({addTo:this,translate:{z:this.length}}),this.renderApex=new t,this.renderCentroid=new t,this.tangentA=new t,this.tangentB=new t,this.surfacePathCommands=[new r("move",[{}]),new r("line",[{}]),new r("line",[{}])]},s.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,1/3),this.sortValue=this.renderCentroid.z},s.prototype.render=function(e,t){this.renderConeSurface(e,t),i.prototype.render.apply(this,arguments)},s.prototype.renderConeSurface=function(e,t){if(this.visible){this.renderApex.set(this.apex.renderOrigin).subtract(this.renderOrigin);var r=this.renderNormal.magnitude(),n=this.renderApex.magnitude2d(),i=this.renderNormal.magnitude2d(),s=Math.acos(i/r),o=Math.sin(s),h=this.diameter/2*r;if(h*o<n){var d=Math.atan2(this.renderNormal.y,this.renderNormal.x)+a/2,u=n/o,l=Math.acos(h/u),c=this.tangentA,p=this.tangentB;c.x=Math.cos(l)*h*o,c.y=Math.sin(l)*h,p.set(this.tangentA),p.y*=-1,c.rotateZ(d),p.rotateZ(d),c.add(this.renderOrigin),p.add(this.renderOrigin),this.setSurfaceRenderPoint(0,c),this.setSurfaceRenderPoint(1,this.apex.renderOrigin),this.setSurfaceRenderPoint(2,p);var f=this.getSurfaceRenderElement(e,t);t.renderPath(e,f,this.surfacePathCommands),t.stroke(e,f,this.stroke,this.color,this.getLineWidth()),t.fill(e,f,this.fill,this.color),t.end(e,f)}}};return s.prototype.getSurfaceRenderElement=function(e,t){if(t.isSvg)return this.surfaceSvgElement||(this.surfaceSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.surfaceSvgElement.setAttribute("stroke-linecap","round"),this.surfaceSvgElement.setAttribute("stroke-linejoin","round")),this.surfaceSvgElement},s.prototype.setSurfaceRenderPoint=function(e,t){this.surfacePathCommands[e].renderPoints[0].set(t)},s});
},{"./boilerplate":"fApO","./vector":"rpjK","./path-command":"eNlb","./anchor":"sxCm","./ellipse":"RxWQ"}],"mI83":[function(require,module,exports) {
!function(t,e){if("object"==typeof module&&module.exports)module.exports=e(require("./boilerplate"),require("./anchor"),require("./shape"),require("./rect"));else{var i=t.Zdog;i.Box=e(i,i.Anchor,i.Shape,i.Rect)}}(this,function(t,e,i,h){var o=h.subclass();o.prototype.copyGraph=function(){};var r=t.TAU,a=["frontFace","rearFace","leftFace","rightFace","topFace","bottomFace"],s=t.extend({},i.defaults);delete s.path,a.forEach(function(t){s[t]=!0}),t.extend(s,{width:1,height:1,depth:1,fill:!0});var c=e.subclass(s);c.prototype.create=function(t){e.prototype.create.call(this,t),this.updatePath(),this.fill=this.fill},c.prototype.updatePath=function(){a.forEach(function(t){this[t]=this[t]},this)},a.forEach(function(t){var e="_"+t;Object.defineProperty(c.prototype,t,{get:function(){return this[e]},set:function(i){this[e]=i,this.setFace(t,i)}})}),c.prototype.setFace=function(t,e){var i=t+"Rect",h=this[i];if(e){var r=this.getFaceOptions(t);r.color="string"==typeof e?e:this.color,h?h.setOptions(r):h=this[i]=new o(r),h.updatePath(),this.addChild(h)}else this.removeChild(h)},c.prototype.getFaceOptions=function(t){return{frontFace:{width:this.width,height:this.height,translate:{z:this.depth/2}},rearFace:{width:this.width,height:this.height,translate:{z:-this.depth/2},rotate:{y:r/2}},leftFace:{width:this.depth,height:this.height,translate:{x:-this.width/2},rotate:{y:-r/4}},rightFace:{width:this.depth,height:this.height,translate:{x:this.width/2},rotate:{y:r/4}},topFace:{width:this.width,height:this.depth,translate:{y:-this.height/2},rotate:{x:-r/4}},bottomFace:{width:this.width,height:this.depth,translate:{y:this.height/2},rotate:{x:r/4}}}[t]};return["color","stroke","fill","backface","front","visible"].forEach(function(t){var e="_"+t;Object.defineProperty(c.prototype,t,{get:function(){return this[e]},set:function(i){this[e]=i,a.forEach(function(e){var h=this[e+"Rect"],o="string"==typeof this[e];h&&!("color"==t&&o)&&(h[t]=i)},this)}})}),c});
},{"./boilerplate":"fApO","./anchor":"sxCm","./shape":"slvd","./rect":"CobG"}],"bgtn":[function(require,module,exports) {
var define;
var e;!function(r,o){var i,u,n,t,a,d,q,l,c,p,s,g,h,m,v,y,R,f;"object"==typeof module&&module.exports?module.exports=(i=require("./boilerplate"),u=require("./canvas-renderer"),n=require("./svg-renderer"),t=require("./vector"),a=require("./anchor"),d=require("./dragger"),q=require("./illustration"),l=require("./path-command"),c=require("./shape"),p=require("./group"),s=require("./rect"),g=require("./rounded-rect"),h=require("./ellipse"),m=require("./polygon"),v=require("./hemisphere"),y=require("./cylinder"),R=require("./cone"),f=require("./box"),i.CanvasRenderer=u,i.SvgRenderer=n,i.Vector=t,i.Anchor=a,i.Dragger=d,i.Illustration=q,i.PathCommand=l,i.Shape=c,i.Group=p,i.Rect=s,i.RoundedRect=g,i.Ellipse=h,i.Polygon=m,i.Hemisphere=v,i.Cylinder=y,i.Cone=R,i.Box=f,i):"function"==typeof e&&e.amd&&e("zdog",[],r.Zdog)}(this);
},{"./boilerplate":"fApO","./canvas-renderer":"lf5J","./svg-renderer":"eJWg","./vector":"rpjK","./anchor":"sxCm","./dragger":"WQya","./illustration":"oesO","./path-command":"eNlb","./shape":"slvd","./group":"wN38","./rect":"CobG","./rounded-rect":"l2kq","./ellipse":"RxWQ","./polygon":"zsfs","./hemisphere":"bJhL","./cylinder":"KKFs","./cone":"J55S","./box":"mI83"}],"F9cU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={parse:function(t){var e=r._bin,a=new Uint8Array(t),n=0;e.readFixed(a,n);n+=4;var o=e.readUshort(a,n);n+=2;e.readUshort(a,n);n+=2;e.readUshort(a,n);n+=2;e.readUshort(a,n);n+=2;for(var i=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:a},h={},f=0;f<o;f++){var l=e.readASCII(a,n,4);n+=4;e.readUint(a,n);n+=4;var u=e.readUint(a,n);n+=4;var d=e.readUint(a,n);n+=4,h[l]={offset:u,length:d}}for(f=0;f<i.length;f++){var c=i[f];h[c]&&(s[c.trim()]=r[c.trim()].parse(a,h[c].offset,h[c].length,s))}return s},_tabOffset:function(t,e){for(var a=r._bin,n=a.readUshort(t,4),o=12,i=0;i<n;i++){var s=a.readASCII(t,o,4);o+=4;a.readUint(t,o);o+=4;var h=a.readUint(t,o);o+=4;a.readUint(t,o);if(o+=4,s==e)return h}return 0}};r._bin={readFixed:function(r,t){return(r[t]<<8|r[t+1])+(r[t+2]<<8|r[t+3])/65540},readF2dot14:function(t,e){return r._bin.readShort(t,e)/16384},readInt:function(t,e){var a=r._bin.t.uint8;return a[0]=t[e+3],a[1]=t[e+2],a[2]=t[e+1],a[3]=t[e],r._bin.t.int32[0]},readInt8:function(t,e){return r._bin.t.uint8[0]=t[e],r._bin.t.int8[0]},readShort:function(t,e){var a=r._bin.t.uint8;return a[1]=t[e],a[0]=t[e+1],r._bin.t.int16[0]},readUshort:function(r,t){return r[t]<<8|r[t+1]},readUshorts:function(t,e,a){for(var n=[],o=0;o<a;o++)n.push(r._bin.readUshort(t,e+2*o));return n},readUint:function(t,e){var a=r._bin.t.uint8;return a[3]=t[e],a[2]=t[e+1],a[1]=t[e+2],a[0]=t[e+3],r._bin.t.uint32[0]},readUint64:function(t,e){return 4294967296*r._bin.readUint(t,e)+r._bin.readUint(t,e+4)},readASCII:function(r,t,e){for(var a="",n=0;n<e;n++)a+=String.fromCharCode(r[t+n]);return a},readUnicode:function(r,t,e){for(var a="",n=0;n<e;n++){var o=r[t++]<<8|r[t++];a+=String.fromCharCode(o)}return a},_tdec:window.TextDecoder?new window.TextDecoder:null,readUTF8:function(t,e,a){var n=r._bin._tdec;return n&&0==e&&a==t.length?n.decode(t):r._bin.readASCII(t,e,a)},readBytes:function(r,t,e){for(var a=[],n=0;n<e;n++)a.push(r[t+n]);return a},readASCIIArray:function(r,t,e){for(var a=[],n=0;n<e;n++)a.push(String.fromCharCode(r[t+n]));return a}},r._bin.t={buff:new ArrayBuffer(8)},r._bin.t.int8=new Int8Array(r._bin.t.buff),r._bin.t.uint8=new Uint8Array(r._bin.t.buff),r._bin.t.int16=new Int16Array(r._bin.t.buff),r._bin.t.uint16=new Uint16Array(r._bin.t.buff),r._bin.t.int32=new Int32Array(r._bin.t.buff),r._bin.t.uint32=new Uint32Array(r._bin.t.buff),r._lctf={},r._lctf.parse=function(t,e,a,n,o){var i=r._bin,s={},h=e;i.readFixed(t,e);e+=4;var f=i.readUshort(t,e);e+=2;var l=i.readUshort(t,e);e+=2;var u=i.readUshort(t,e);return e+=2,s.scriptList=r._lctf.readScriptList(t,h+f),s.featureList=r._lctf.readFeatureList(t,h+l),s.lookupList=r._lctf.readLookupList(t,h+u,o),s},r._lctf.readLookupList=function(t,e,a){var n=r._bin,o=e,i=[],s=n.readUshort(t,e);e+=2;for(var h=0;h<s;h++){var f=n.readUshort(t,e);e+=2;var l=r._lctf.readLookupTable(t,o+f,a);i.push(l)}return i},r._lctf.readLookupTable=function(t,e,a){var n=r._bin,o=e,i={tabs:[]};i.ltype=n.readUshort(t,e),e+=2,i.flag=n.readUshort(t,e),e+=2;var s=n.readUshort(t,e);e+=2;for(var h=0;h<s;h++){var f=n.readUshort(t,e);e+=2;var l=a(t,i.ltype,o+f);i.tabs.push(l)}return i},r._lctf.numOfOnes=function(r){for(var t=0,e=0;e<32;e++)0!=(r>>>e&1)&&t++;return t},r._lctf.readClassDef=function(t,e){var a=r._bin,n=[],o=a.readUshort(t,e);if(e+=2,1==o){var i=a.readUshort(t,e);e+=2;var s=a.readUshort(t,e);e+=2;for(var h=0;h<s;h++)n.push(i+h),n.push(i+h),n.push(a.readUshort(t,e)),e+=2}if(2==o){var f=a.readUshort(t,e);e+=2;for(h=0;h<f;h++)n.push(a.readUshort(t,e)),e+=2,n.push(a.readUshort(t,e)),e+=2,n.push(a.readUshort(t,e)),e+=2}return n},r._lctf.getInterval=function(r,t){for(var e=0;e<r.length;e+=3){var a=r[e],n=r[e+1];r[e+2];if(a<=t&&t<=n)return e}return-1},r._lctf.readValueRecord=function(t,e,a){var n=r._bin,o=[];return o.push(1&a?n.readShort(t,e):0),e+=1&a?2:0,o.push(2&a?n.readShort(t,e):0),e+=2&a?2:0,o.push(4&a?n.readShort(t,e):0),e+=4&a?2:0,o.push(8&a?n.readShort(t,e):0),e+=8&a?2:0,o},r._lctf.readCoverage=function(t,e){var a=r._bin,n={};n.fmt=a.readUshort(t,e),e+=2;var o=a.readUshort(t,e);return e+=2,1==n.fmt&&(n.tab=a.readUshorts(t,e,o)),2==n.fmt&&(n.tab=a.readUshorts(t,e,3*o)),n},r._lctf.coverageIndex=function(t,e){var a=t.tab;if(1==t.fmt)return a.indexOf(e);if(2==t.fmt){var n=r._lctf.getInterval(a,e);if(-1!=n)return a[n+2]+(e-a[n])}return-1},r._lctf.readFeatureList=function(t,e){var a=r._bin,n=e,o=[],i=a.readUshort(t,e);e+=2;for(var s=0;s<i;s++){var h=a.readASCII(t,e,4);e+=4;var f=a.readUshort(t,e);e+=2,o.push({tag:h.trim(),tab:r._lctf.readFeatureTable(t,n+f)})}return o},r._lctf.readFeatureTable=function(t,e){var a=r._bin;a.readUshort(t,e);e+=2;var n=a.readUshort(t,e);e+=2;for(var o=[],i=0;i<n;i++)o.push(a.readUshort(t,e+2*i));return o},r._lctf.readScriptList=function(t,e){var a=r._bin,n=e,o={},i=a.readUshort(t,e);e+=2;for(var s=0;s<i;s++){var h=a.readASCII(t,e,4);e+=4;var f=a.readUshort(t,e);e+=2,o[h.trim()]=r._lctf.readScriptTable(t,n+f)}return o},r._lctf.readScriptTable=function(t,e){var a=r._bin,n=e,o={},i=a.readUshort(t,e);e+=2,o.default=r._lctf.readLangSysTable(t,n+i);var s=a.readUshort(t,e);e+=2;for(var h=0;h<s;h++){var f=a.readASCII(t,e,4);e+=4;var l=a.readUshort(t,e);e+=2,o[f.trim()]=r._lctf.readLangSysTable(t,n+l)}return o},r._lctf.readLangSysTable=function(t,e){var a=r._bin,n={};a.readUshort(t,e);e+=2,n.reqFeature=a.readUshort(t,e),e+=2;var o=a.readUshort(t,e);return e+=2,n.features=a.readUshorts(t,e,o),n},r.CFF={},r.CFF.parse=function(t,e,a){var n=r._bin;(t=new Uint8Array(t.buffer,e,a))[e=0],t[++e],t[++e],t[++e];e++;var o=[];e=r.CFF.readIndex(t,e,o);for(var i=[],s=0;s<o.length-1;s++)i.push(n.readASCII(t,e+o[s],o[s+1]-o[s]));e+=o[o.length-1];var h=[];e=r.CFF.readIndex(t,e,h);var f=[];for(s=0;s<h.length-1;s++)f.push(r.CFF.readDict(t,e+h[s],e+h[s+1]));e+=h[h.length-1];var l=f[0],u=[];e=r.CFF.readIndex(t,e,u);var d=[];for(s=0;s<u.length-1;s++)d.push(n.readASCII(t,e+u[s],u[s+1]-u[s]));if(e+=u[u.length-1],r.CFF.readSubrs(t,e,l),l.CharStrings){e=l.CharStrings;u=[];e=r.CFF.readIndex(t,e,u);var c=[];for(s=0;s<u.length-1;s++)c.push(n.readBytes(t,e+u[s],u[s+1]-u[s]));l.CharStrings=c}l.Encoding&&(l.Encoding=r.CFF.readEncoding(t,l.Encoding,l.CharStrings.length)),l.charset&&(l.charset=r.CFF.readCharset(t,l.charset,l.CharStrings.length)),l.Private&&(e=l.Private[1],l.Private=r.CFF.readDict(t,e,e+l.Private[0]),l.Private.Subrs&&r.CFF.readSubrs(t,e+l.Private.Subrs,l.Private));var v={};for(var p in l)-1!=["FamilyName","FullName","Notice","version","Copyright"].indexOf(p)?v[p]=d[l[p]-426+35]:v[p]=l[p];return v},r.CFF.readSubrs=function(t,e,a){var n=r._bin,o=[];e=r.CFF.readIndex(t,e,o);var i,s=o.length;i=s<1240?107:s<33900?1131:32768,a.Bias=i,a.Subrs=[];for(var h=0;h<o.length-1;h++)a.Subrs.push(n.readBytes(t,e+o[h],o[h+1]-o[h]))},r.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],r.CFF.glyphByUnicode=function(r,t){for(var e=0;e<r.charset.length;e++)if(r.charset[e]==t)return e;return-1},r.CFF.glyphBySE=function(t,e){return e<0||e>255?-1:r.CFF.glyphByUnicode(t,r.CFF.tableSE[e])},r.CFF.readEncoding=function(t,e,a){r._bin;var n=[".notdef"],o=t[e];if(0!=o)throw"error: unknown encoding format: "+o;var i=t[++e];e++;for(var s=0;s<i;s++)n.push(t[e+s]);return n},r.CFF.readCharset=function(t,e,a){var n=r._bin,o=[".notdef"],i=t[e];if(e++,0==i)for(var s=0;s<a;s++){var h=n.readUshort(t,e);e+=2,o.push(h)}else{if(1!=i&&2!=i)throw"error: format: "+i;for(;o.length<a;){h=n.readUshort(t,e);e+=2;var f=0;1==i?(f=t[e],e++):(f=n.readUshort(t,e),e+=2);for(s=0;s<=f;s++)o.push(h),h++}}return o},r.CFF.readIndex=function(t,e,a){var n=r._bin,o=n.readUshort(t,e),i=t[e+=2];if(e++,1==i)for(var s=0;s<o+1;s++)a.push(t[e+s]);else if(2==i)for(s=0;s<o+1;s++)a.push(n.readUshort(t,e+2*s));else if(3==i)for(s=0;s<o+1;s++)a.push(16777215&n.readUint(t,e+3*s-1));else if(0!=o)throw"unsupported offset size: "+i+", count: "+o;return(e+=(o+1)*i)-1},r.CFF.getCharString=function(t,e,a){var n=r._bin,o=t[e],i=t[e+1],s=(t[e+2],t[e+3],t[e+4],1),h=null,f=null;o<=20&&(h=o,s=1),12==o&&(h=100*o+i,s=2),21<=o&&o<=27&&(h=o,s=1),28==o&&(f=n.readShort(t,e+1),s=3),29<=o&&o<=31&&(h=o,s=1),32<=o&&o<=246&&(f=o-139,s=1),247<=o&&o<=250&&(f=256*(o-247)+i+108,s=2),251<=o&&o<=254&&(f=256*-(o-251)-i-108,s=2),255==o&&(f=n.readInt(t,e+1)/65535,s=5),a.val=null!=f?f:"o"+h,a.size=s},r.CFF.readCharString=function(t,e,a){for(var n=e+a,o=r._bin,i=[];e<n;){var s=t[e],h=t[e+1],f=(t[e+2],t[e+3],t[e+4],1),l=null,u=null;s<=20&&(l=s,f=1),12==s&&(l=100*s+h,f=2),19!=s&&20!=s||(l=s,f=2),21<=s&&s<=27&&(l=s,f=1),28==s&&(u=o.readShort(t,e+1),f=3),29<=s&&s<=31&&(l=s,f=1),32<=s&&s<=246&&(u=s-139,f=1),247<=s&&s<=250&&(u=256*(s-247)+h+108,f=2),251<=s&&s<=254&&(u=256*-(s-251)-h-108,f=2),255==s&&(u=o.readInt(t,e+1)/65535,f=5),i.push(null!=u?u:"o"+l),e+=f}return i},r.CFF.readDict=function(t,e,a){for(var n=r._bin,o={},i=[];e<a;){var s=t[e],h=t[e+1],f=(t[e+2],t[e+3],t[e+4],1),l=null,u=null;if(28==s&&(u=n.readShort(t,e+1),f=3),29==s&&(u=n.readInt(t,e+1),f=5),32<=s&&s<=246&&(u=s-139,f=1),247<=s&&s<=250&&(u=256*(s-247)+h+108,f=2),251<=s&&s<=254&&(u=256*-(s-251)-h-108,f=2),255==s)throw u=n.readInt(t,e+1)/65535,f=5,"unknown number";if(30==s){var d=[];for(f=1;;){var c=t[e+f];f++;var v=c>>4,p=15&c;if(15!=v&&d.push(v),15!=p&&d.push(p),15==p)break}for(var g="",U=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],m=0;m<d.length;m++)g+=U[d[m]];u=parseFloat(g)}if(s<=21)if(l=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],f=1,12==s)l=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][h],f=2;null!=l?(o[l]=1==i.length?i[0]:i,i=[]):i.push(u),e+=f}return o},r.cmap={},r.cmap.parse=function(t,e,a){t=new Uint8Array(t.buffer,e,a),e=0;var n=r._bin,o={};n.readUshort(t,e);e+=2;var i=n.readUshort(t,e);e+=2;var s=[];o.tables=[];for(var h=0;h<i;h++){var f=n.readUshort(t,e);e+=2;var l=n.readUshort(t,e);e+=2;var u=n.readUint(t,e);e+=4;var d="p"+f+"e"+l,c=s.indexOf(u);if(-1==c){var v;c=o.tables.length,s.push(u);var p=n.readUshort(t,u);0==p?v=r.cmap.parse0(t,u):4==p?v=r.cmap.parse4(t,u):6==p?v=r.cmap.parse6(t,u):12==p?v=r.cmap.parse12(t,u):console.log("unknown format: "+p,f,l,u),o.tables.push(v)}if(null!=o[d])throw"multiple tables for one platform+encoding";o[d]=c}return o},r.cmap.parse0=function(t,e){var a=r._bin,n={};n.format=a.readUshort(t,e),e+=2;var o=a.readUshort(t,e);e+=2;a.readUshort(t,e);e+=2,n.map=[];for(var i=0;i<o-6;i++)n.map.push(t[e+i]);return n},r.cmap.parse4=function(t,e){var a=r._bin,n=e,o={};o.format=a.readUshort(t,e),e+=2;var i=a.readUshort(t,e);e+=2;a.readUshort(t,e);e+=2;var s=a.readUshort(t,e);e+=2;var h=s/2;o.searchRange=a.readUshort(t,e),e+=2,o.entrySelector=a.readUshort(t,e),e+=2,o.rangeShift=a.readUshort(t,e),e+=2,o.endCount=a.readUshorts(t,e,h),e+=2*h,e+=2,o.startCount=a.readUshorts(t,e,h),e+=2*h,o.idDelta=[];for(var f=0;f<h;f++)o.idDelta.push(a.readShort(t,e)),e+=2;for(o.idRangeOffset=a.readUshorts(t,e,h),e+=2*h,o.glyphIdArray=[];e<n+i;)o.glyphIdArray.push(a.readUshort(t,e)),e+=2;return o},r.cmap.parse6=function(t,e){var a=r._bin,n={};n.format=a.readUshort(t,e),e+=2;a.readUshort(t,e);e+=2;a.readUshort(t,e);e+=2,n.firstCode=a.readUshort(t,e),e+=2;var o=a.readUshort(t,e);e+=2,n.glyphIdArray=[];for(var i=0;i<o;i++)n.glyphIdArray.push(a.readUshort(t,e)),e+=2;return n},r.cmap.parse12=function(t,e){var a=r._bin,n={};n.format=a.readUshort(t,e),e+=2,e+=2;a.readUint(t,e);e+=4;a.readUint(t,e);e+=4;var o=a.readUint(t,e);e+=4,n.groups=[];for(var i=0;i<o;i++){var s=e+12*i,h=a.readUint(t,s+0),f=a.readUint(t,s+4),l=a.readUint(t,s+8);n.groups.push([h,f,l])}return n},r.glyf={},r.glyf.parse=function(r,t,e,a){for(var n=[],o=0;o<a.maxp.numGlyphs;o++)n.push(null);return n},r.glyf._parseGlyf=function(t,e){var a=r._bin,n=t._data,o=r._tabOffset(n,"glyf")+t.loca[e];if(t.loca[e]==t.loca[e+1])return null;var i={};if(i.noc=a.readShort(n,o),o+=2,i.xMin=a.readShort(n,o),o+=2,i.yMin=a.readShort(n,o),o+=2,i.xMax=a.readShort(n,o),o+=2,i.yMax=a.readShort(n,o),o+=2,i.xMin>=i.xMax||i.yMin>=i.yMax)return null;if(i.noc>0){i.endPts=[];for(var s=0;s<i.noc;s++)i.endPts.push(a.readUshort(n,o)),o+=2;var h=a.readUshort(n,o);if(o+=2,n.length-o<h)return null;i.instructions=a.readBytes(n,o,h),o+=h;var f=i.endPts[i.noc-1]+1;i.flags=[];for(s=0;s<f;s++){var l=n[o];if(o++,i.flags.push(l),0!=(8&l)){var u=n[o];o++;for(var d=0;d<u;d++)i.flags.push(l),s++}}i.xs=[];for(s=0;s<f;s++){var c=0!=(2&i.flags[s]),v=0!=(16&i.flags[s]);c?(i.xs.push(v?n[o]:-n[o]),o++):v?i.xs.push(0):(i.xs.push(a.readShort(n,o)),o+=2)}i.ys=[];for(s=0;s<f;s++){c=0!=(4&i.flags[s]),v=0!=(32&i.flags[s]);c?(i.ys.push(v?n[o]:-n[o]),o++):v?i.ys.push(0):(i.ys.push(a.readShort(n,o)),o+=2)}var p=0,g=0;for(s=0;s<f;s++)p+=i.xs[s],g+=i.ys[s],i.xs[s]=p,i.ys[s]=g}else{var U;i.parts=[];do{U=a.readUshort(n,o),o+=2;var m={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(i.parts.push(m),m.glyphIndex=a.readUshort(n,o),o+=2,1&U){var S=a.readShort(n,o);o+=2;var b=a.readShort(n,o);o+=2}else{S=a.readInt8(n,o);o++;b=a.readInt8(n,o);o++}2&U?(m.m.tx=S,m.m.ty=b):(m.p1=S,m.p2=b),8&U?(m.m.a=m.m.d=a.readF2dot14(n,o),o+=2):64&U?(m.m.a=a.readF2dot14(n,o),o+=2,m.m.d=a.readF2dot14(n,o),o+=2):128&U&&(m.m.a=a.readF2dot14(n,o),o+=2,m.m.b=a.readF2dot14(n,o),o+=2,m.m.c=a.readF2dot14(n,o),o+=2,m.m.d=a.readF2dot14(n,o),o+=2)}while(32&U);if(256&U){var _=a.readUshort(n,o);o+=2,i.instr=[];for(s=0;s<_;s++)i.instr.push(n[o]),o++}}return i},r.GPOS={},r.GPOS.parse=function(t,e,a,n){return r._lctf.parse(t,e,a,n,r.GPOS.subt)},r.GPOS.subt=function(t,e,a){if(2!=e)return null;var n=r._bin,o=a,i={};i.format=n.readUshort(t,a),a+=2;var s=n.readUshort(t,a);a+=2,i.coverage=r._lctf.readCoverage(t,s+o),i.valFmt1=n.readUshort(t,a),a+=2,i.valFmt2=n.readUshort(t,a),a+=2;var h=r._lctf.numOfOnes(i.valFmt1),f=r._lctf.numOfOnes(i.valFmt2);if(1==i.format){i.pairsets=[];var l=n.readUshort(t,a);a+=2;for(var u=0;u<l;u++){var d=n.readUshort(t,a);a+=2,d+=o;var c=n.readUshort(t,d);d+=2;for(var v=[],p=0;p<c;p++){var g=n.readUshort(t,d);d+=2,0!=i.valFmt1&&(y=r._lctf.readValueRecord(t,d,i.valFmt1),d+=2*h),0!=i.valFmt2&&(x=r._lctf.readValueRecord(t,d,i.valFmt2),d+=2*f),v.push({gid2:g,val1:y,val2:x})}i.pairsets.push(v)}}if(2==i.format){var U=n.readUshort(t,a);a+=2;var m=n.readUshort(t,a);a+=2;var S=n.readUshort(t,a);a+=2;var b=n.readUshort(t,a);a+=2,i.classDef1=r._lctf.readClassDef(t,o+U),i.classDef2=r._lctf.readClassDef(t,o+m),i.matrix=[];for(u=0;u<S;u++){var _=[];for(p=0;p<b;p++){var y=null,x=null;0!=i.valFmt1&&(y=r._lctf.readValueRecord(t,a,i.valFmt1),a+=2*h),0!=i.valFmt2&&(x=r._lctf.readValueRecord(t,a,i.valFmt2),a+=2*f),_.push({val1:y,val2:x})}i.matrix.push(_)}}return i},r.GSUB={},r.GSUB.parse=function(t,e,a,n){return r._lctf.parse(t,e,a,n,r.GSUB.subt)},r.GSUB.subt=function(t,e,a){var n=r._bin,o=a,i={};if(1!=e&&4!=e&&5!=e)return null;i.fmt=n.readUshort(t,a),a+=2;var s=n.readUshort(t,a);if(a+=2,i.coverage=r._lctf.readCoverage(t,s+o),1==e){if(1==i.fmt)i.delta=n.readShort(t,a),a+=2;else if(2==i.fmt){var h=n.readUshort(t,a);a+=2,i.newg=n.readUshorts(t,a,h),a+=2*i.newg.length}}else if(4==e){i.vals=[];h=n.readUshort(t,a);a+=2;for(var f=0;f<h;f++){var l=n.readUshort(t,a);a+=2,i.vals.push(r.GSUB.readLigatureSet(t,o+l))}}else if(5==e)if(2==i.fmt){var u=n.readUshort(t,a);a+=2,i.cDef=r._lctf.readClassDef(t,o+u),i.scset=[];var d=n.readUshort(t,a);a+=2;for(f=0;f<d;f++){var c=n.readUshort(t,a);a+=2,i.scset.push(0==c?null:r.GSUB.readSubClassSet(t,o+c))}}else console.log("unknown table format",i.fmt);return i},r.GSUB.readSubClassSet=function(t,e){var a=r._bin.readUshort,n=e,o=[],i=a(t,e);e+=2;for(var s=0;s<i;s++){var h=a(t,e);e+=2,o.push(r.GSUB.readSubClassRule(t,n+h))}return o},r.GSUB.readSubClassRule=function(t,e){var a=r._bin.readUshort,n={},o=a(t,e),i=a(t,e+=2);e+=2,n.input=[];for(var s=0;s<o-1;s++)n.input.push(a(t,e)),e+=2;return n.substLookupRecords=r.GSUB.readSubstLookupRecords(t,e,i),n},r.GSUB.readSubstLookupRecords=function(t,e,a){for(var n=r._bin.readUshort,o=[],i=0;i<a;i++)o.push(n(t,e),n(t,e+2)),e+=4;return o},r.GSUB.readChainSubClassSet=function(t,e){var a=r._bin,n=e,o=[],i=a.readUshort(t,e);e+=2;for(var s=0;s<i;s++){var h=a.readUshort(t,e);e+=2,o.push(r.GSUB.readChainSubClassRule(t,n+h))}return o},r.GSUB.readChainSubClassRule=function(t,e){for(var a=r._bin,n={},o=["backtrack","input","lookahead"],i=0;i<o.length;i++){var s=a.readUshort(t,e);e+=2,1==i&&s--,n[o[i]]=a.readUshorts(t,e,s),e+=2*n[o[i]].length}s=a.readUshort(t,e);return e+=2,n.subst=a.readUshorts(t,e,2*s),e+=2*n.subst.length,n},r.GSUB.readLigatureSet=function(t,e){var a=r._bin,n=e,o=[],i=a.readUshort(t,e);e+=2;for(var s=0;s<i;s++){var h=a.readUshort(t,e);e+=2,o.push(r.GSUB.readLigature(t,n+h))}return o},r.GSUB.readLigature=function(t,e){var a=r._bin,n={chain:[]};n.nglyph=a.readUshort(t,e),e+=2;var o=a.readUshort(t,e);e+=2;for(var i=0;i<o-1;i++)n.chain.push(a.readUshort(t,e)),e+=2;return n},r.head={},r.head.parse=function(t,e,a){var n=r._bin,o={};n.readFixed(t,e);e+=4,o.fontRevision=n.readFixed(t,e),e+=4;n.readUint(t,e);e+=4;n.readUint(t,e);return e+=4,o.flags=n.readUshort(t,e),e+=2,o.unitsPerEm=n.readUshort(t,e),e+=2,o.created=n.readUint64(t,e),e+=8,o.modified=n.readUint64(t,e),e+=8,o.xMin=n.readShort(t,e),e+=2,o.yMin=n.readShort(t,e),e+=2,o.xMax=n.readShort(t,e),e+=2,o.yMax=n.readShort(t,e),e+=2,o.macStyle=n.readUshort(t,e),e+=2,o.lowestRecPPEM=n.readUshort(t,e),e+=2,o.fontDirectionHint=n.readShort(t,e),e+=2,o.indexToLocFormat=n.readShort(t,e),e+=2,o.glyphDataFormat=n.readShort(t,e),e+=2,o},r.hhea={},r.hhea.parse=function(t,e,a){var n=r._bin,o={};n.readFixed(t,e);return e+=4,o.ascender=n.readShort(t,e),e+=2,o.descender=n.readShort(t,e),e+=2,o.lineGap=n.readShort(t,e),e+=2,o.advanceWidthMax=n.readUshort(t,e),e+=2,o.minLeftSideBearing=n.readShort(t,e),e+=2,o.minRightSideBearing=n.readShort(t,e),e+=2,o.xMaxExtent=n.readShort(t,e),e+=2,o.caretSlopeRise=n.readShort(t,e),e+=2,o.caretSlopeRun=n.readShort(t,e),e+=2,o.caretOffset=n.readShort(t,e),e+=2,e+=8,o.metricDataFormat=n.readShort(t,e),e+=2,o.numberOfHMetrics=n.readUshort(t,e),e+=2,o},r.hmtx={},r.hmtx.parse=function(t,e,a,n){for(var o=r._bin,i={aWidth:[],lsBearing:[]},s=0,h=0,f=0;f<n.maxp.numGlyphs;f++)f<n.hhea.numberOfHMetrics&&(s=o.readUshort(t,e),e+=2,h=o.readShort(t,e),e+=2),i.aWidth.push(s),i.lsBearing.push(h);return i},r.kern={},r.kern.parse=function(t,e,a,n){var o=r._bin,i=o.readUshort(t,e);if(e+=2,1==i)return r.kern.parseV1(t,e-2,a,n);var s=o.readUshort(t,e);e+=2;for(var h={glyph1:[],rval:[]},f=0;f<s;f++){e+=2;a=o.readUshort(t,e);e+=2;var l=o.readUshort(t,e);e+=2;var u=l>>>8;if(0!=(u&=15))throw"unknown kern table format: "+u;e=r.kern.readFormat0(t,e,h)}return h},r.kern.parseV1=function(t,e,a,n){var o=r._bin;o.readFixed(t,e);e+=4;var i=o.readUint(t,e);e+=4;for(var s={glyph1:[],rval:[]},h=0;h<i;h++){o.readUint(t,e);e+=4;var f=o.readUshort(t,e);e+=2;o.readUshort(t,e);e+=2;var l=f>>>8;if(0!=(l&=15))throw"unknown kern table format: "+l;e=r.kern.readFormat0(t,e,s)}return s},r.kern.readFormat0=function(t,e,a){var n=r._bin,o=-1,i=n.readUshort(t,e);e+=2;n.readUshort(t,e);e+=2;n.readUshort(t,e);e+=2;n.readUshort(t,e);e+=2;for(var s=0;s<i;s++){var h=n.readUshort(t,e);e+=2;var f=n.readUshort(t,e);e+=2;var l=n.readShort(t,e);e+=2,h!=o&&(a.glyph1.push(h),a.rval.push({glyph2:[],vals:[]}));var u=a.rval[a.rval.length-1];u.glyph2.push(f),u.vals.push(l),o=h}return e},r.loca={},r.loca.parse=function(t,e,a,n){var o=r._bin,i=[],s=n.head.indexToLocFormat,h=n.maxp.numGlyphs+1;if(0==s)for(var f=0;f<h;f++)i.push(o.readUshort(t,e+(f<<1))<<1);if(1==s)for(f=0;f<h;f++)i.push(o.readUint(t,e+(f<<2)));return i},r.maxp={},r.maxp.parse=function(t,e,a){var n=r._bin,o={},i=n.readUint(t,e);return e+=4,o.numGlyphs=n.readUshort(t,e),e+=2,65536==i&&(o.maxPoints=n.readUshort(t,e),e+=2,o.maxContours=n.readUshort(t,e),e+=2,o.maxCompositePoints=n.readUshort(t,e),e+=2,o.maxCompositeContours=n.readUshort(t,e),e+=2,o.maxZones=n.readUshort(t,e),e+=2,o.maxTwilightPoints=n.readUshort(t,e),e+=2,o.maxStorage=n.readUshort(t,e),e+=2,o.maxFunctionDefs=n.readUshort(t,e),e+=2,o.maxInstructionDefs=n.readUshort(t,e),e+=2,o.maxStackElements=n.readUshort(t,e),e+=2,o.maxSizeOfInstructions=n.readUshort(t,e),e+=2,o.maxComponentElements=n.readUshort(t,e),e+=2,o.maxComponentDepth=n.readUshort(t,e),e+=2),o},r.name={},r.name.parse=function(t,e,a){var n=r._bin,o={};n.readUshort(t,e);e+=2;var i=n.readUshort(t,e);e+=2;n.readUshort(t,e);for(var s,h=e+=2,f=0;f<i;f++){var l=n.readUshort(t,e);e+=2;var u=n.readUshort(t,e);e+=2;var d=n.readUshort(t,e);e+=2;var c=n.readUshort(t,e);e+=2;a=n.readUshort(t,e);e+=2;var v=n.readUshort(t,e);e+=2;var p="p"+l;null==o[p]&&(o[p]={});var g,U=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"][c],m=h+12*i+v;if(0==l)g=n.readUnicode(t,m,a/2);else if(3==l&&0==u)g=n.readUnicode(t,m,a/2);else if(0==u)g=n.readASCII(t,m,a);else if(1==u)g=n.readUnicode(t,m,a/2);else if(3==u)g=n.readUnicode(t,m,a/2);else{if(1!=l)throw"unknown encoding "+u+", platformID: "+l;g=n.readASCII(t,m,a),console.log("reading unknown MAC encoding "+u+" as ASCII")}o[p][U]=g,o[p]._lang=d}for(var S in o)if(null!=o[S].postScriptName&&1033==o[S]._lang)return o[S];for(var S in o)if(null!=o[S].postScriptName&&3084==o[S]._lang)return o[S];for(var S in o)if(null!=o[S].postScriptName)return o[S];for(var S in o){s=S;break}return console.log("returning name table with languageID "+o[s]._lang),o[s]},r["OS/2"]={},r["OS/2"].parse=function(t,e,a){var n=r._bin.readUshort(t,e);e+=2;var o={};if(0==n)r["OS/2"].version0(t,e,o);else if(1==n)r["OS/2"].version1(t,e,o);else if(2==n||3==n||4==n)r["OS/2"].version2(t,e,o);else{if(5!=n)throw"unknown OS/2 table version: "+n;r["OS/2"].version5(t,e,o)}return o},r["OS/2"].version0=function(t,e,a){var n=r._bin;return a.xAvgCharWidth=n.readShort(t,e),e+=2,a.usWeightClass=n.readUshort(t,e),e+=2,a.usWidthClass=n.readUshort(t,e),e+=2,a.fsType=n.readUshort(t,e),e+=2,a.ySubscriptXSize=n.readShort(t,e),e+=2,a.ySubscriptYSize=n.readShort(t,e),e+=2,a.ySubscriptXOffset=n.readShort(t,e),e+=2,a.ySubscriptYOffset=n.readShort(t,e),e+=2,a.ySuperscriptXSize=n.readShort(t,e),e+=2,a.ySuperscriptYSize=n.readShort(t,e),e+=2,a.ySuperscriptXOffset=n.readShort(t,e),e+=2,a.ySuperscriptYOffset=n.readShort(t,e),e+=2,a.yStrikeoutSize=n.readShort(t,e),e+=2,a.yStrikeoutPosition=n.readShort(t,e),e+=2,a.sFamilyClass=n.readShort(t,e),e+=2,a.panose=n.readBytes(t,e,10),e+=10,a.ulUnicodeRange1=n.readUint(t,e),e+=4,a.ulUnicodeRange2=n.readUint(t,e),e+=4,a.ulUnicodeRange3=n.readUint(t,e),e+=4,a.ulUnicodeRange4=n.readUint(t,e),e+=4,a.achVendID=[n.readInt8(t,e),n.readInt8(t,e+1),n.readInt8(t,e+2),n.readInt8(t,e+3)],e+=4,a.fsSelection=n.readUshort(t,e),e+=2,a.usFirstCharIndex=n.readUshort(t,e),e+=2,a.usLastCharIndex=n.readUshort(t,e),e+=2,a.sTypoAscender=n.readShort(t,e),e+=2,a.sTypoDescender=n.readShort(t,e),e+=2,a.sTypoLineGap=n.readShort(t,e),e+=2,a.usWinAscent=n.readUshort(t,e),e+=2,a.usWinDescent=n.readUshort(t,e),e+=2},r["OS/2"].version1=function(t,e,a){var n=r._bin;return e=r["OS/2"].version0(t,e,a),a.ulCodePageRange1=n.readUint(t,e),e+=4,a.ulCodePageRange2=n.readUint(t,e),e+=4},r["OS/2"].version2=function(t,e,a){var n=r._bin;return e=r["OS/2"].version1(t,e,a),a.sxHeight=n.readShort(t,e),e+=2,a.sCapHeight=n.readShort(t,e),e+=2,a.usDefault=n.readUshort(t,e),e+=2,a.usBreak=n.readUshort(t,e),e+=2,a.usMaxContext=n.readUshort(t,e),e+=2},r["OS/2"].version5=function(t,e,a){var n=r._bin;return e=r["OS/2"].version2(t,e,a),a.usLowerOpticalPointSize=n.readUshort(t,e),e+=2,a.usUpperOpticalPointSize=n.readUshort(t,e),e+=2},r.post={},r.post.parse=function(t,e,a){var n=r._bin,o={};return o.version=n.readFixed(t,e),e+=4,o.italicAngle=n.readFixed(t,e),e+=4,o.underlinePosition=n.readShort(t,e),e+=2,o.underlineThickness=n.readShort(t,e),e+=2,o},r.SVG={},r.SVG.parse=function(t,e,a){var n=r._bin,o={entries:[]},i=e;n.readUshort(t,e);e+=2;var s=n.readUint(t,e);e+=4;n.readUint(t,e);e+=4,e=s+i;var h=n.readUshort(t,e);e+=2;for(var f=0;f<h;f++){var l=n.readUshort(t,e);e+=2;var u=n.readUshort(t,e);e+=2;var d=n.readUint(t,e);e+=4;var c=n.readUint(t,e);e+=4;for(var v=new Uint8Array(t.buffer,i+d+s,c),p=n.readUTF8(v,0,v.length),g=l;g<=u;g++)o.entries[g]=p}return o},r.SVG.toPath=function(t){var e={cmds:[],crds:[]};if(null==t)return e;for(var a=(new DOMParser).parseFromString(t,"image/svg+xml").firstChild;"svg"!=a.tagName;)a=a.nextSibling;var n=a.getAttribute("viewBox");n=n?n.trim().split(" ").map(parseFloat):[0,0,1e3,1e3],r.SVG._toPath(a.children,e);for(var o=0;o<e.crds.length;o+=2){var i=e.crds[o],s=e.crds[o+1];i-=n[0],s=-(s-=n[1]),e.crds[o]=i,e.crds[o+1]=s}return e},r.SVG._toPath=function(t,e,a){for(var n=0;n<t.length;n++){var o=t[n],i=o.tagName,s=o.getAttribute("fill");if(null==s&&(s=a),"g"==i)r.SVG._toPath(o.children,e,s);else if("path"==i){e.cmds.push(s||"#000000");var h=o.getAttribute("d"),f=r.SVG._tokens(h);r.SVG._toksToPath(f,e),e.cmds.push("X")}else"defs"==i||console.log(i,o)}},r.SVG._tokens=function(r){for(var t=[],e=0,a=!1,n="";e<r.length;){var o=r.charCodeAt(e),i=r.charAt(e);e++;var s=48<=o&&o<=57||"."==i||"-"==i;a?"-"==i?(t.push(parseFloat(n)),n=i):s?n+=i:(t.push(parseFloat(n)),","!=i&&" "!=i&&t.push(i),a=!1):s?(n=i,a=!0):","!=i&&" "!=i&&t.push(i)}return a&&t.push(parseFloat(n)),t},r.SVG._toksToPath=function(t,e){for(var a=0,n=0,o=0,i=0,s=0,h={M:2,L:2,H:1,V:1,S:4,C:6},f=e.cmds,l=e.crds;a<t.length;){var u=t[a];if(a++,"z"==u)f.push("Z"),n=i,o=s;else for(var d=u.toUpperCase(),c=h[d],v=r.SVG._reps(t,a,c),p=0;p<v;p++){var g=0,U=0;if(u!=d&&(g=n,U=o),"M"==d)n=g+t[a++],o=U+t[a++],f.push("M"),l.push(n,o),i=n,s=o;else if("L"==d)n=g+t[a++],o=U+t[a++],f.push("L"),l.push(n,o);else if("H"==d)n=g+t[a++],f.push("L"),l.push(n,o);else if("V"==d)o=U+t[a++],f.push("L"),l.push(n,o);else if("C"==d){var m=g+t[a++],S=U+t[a++],b=g+t[a++],_=U+t[a++],y=g+t[a++],x=U+t[a++];f.push("C"),l.push(m,S,b,_,y,x),n=y,o=x}else if("S"==d){var F=Math.max(l.length-4,0);m=n+n-l[F],S=o+o-l[F+1],b=g+t[a++],_=U+t[a++],y=g+t[a++],x=U+t[a++];f.push("C"),l.push(m,S,b,_,y,x),n=y,o=x}else console.log("Unknown SVG command "+u)}}},r.SVG._reps=function(r,t,e){for(var a=t;a<r.length&&"string"!=typeof r[a];)a+=e;return(a-t)/e},null==r&&(r={}),null==r.U&&(r.U={}),r.U.codeToGlyph=function(r,t){var e=r.cmap,a=-1;if(null!=e.p0e4?a=e.p0e4:null!=e.p3e1?a=e.p3e1:null!=e.p1e0&&(a=e.p1e0),-1==a)throw"no familiar platform and encoding!";var n=e.tables[a];if(0==n.format)return t>=n.map.length?0:n.map[t];if(4==n.format){for(var o=-1,i=0;i<n.endCount.length;i++)if(t<=n.endCount[i]){o=i;break}if(-1==o)return 0;if(n.startCount[o]>t)return 0;return 65535&(0!=n.idRangeOffset[o]?n.glyphIdArray[t-n.startCount[o]+(n.idRangeOffset[o]>>1)-(n.idRangeOffset.length-o)]:t+n.idDelta[o])}if(12==n.format){if(t>n.groups[n.groups.length-1][1])return 0;for(i=0;i<n.groups.length;i++){var s=n.groups[i];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+n.format},r.U.glyphToPath=function(t,e){var a={cmds:[],crds:[]};if(t.SVG&&t.SVG.entries[e]){var n=t.SVG.entries[e];return null==n?a:("string"==typeof n&&(n=r.SVG.toPath(n),t.SVG.entries[e]=n),n)}if(t.CFF){var o={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:t.CFF.Private?t.CFF.Private.defaultWidthX:0,open:!1};r.U._drawCFF(t.CFF.CharStrings[e],o,t.CFF,a)}else t.glyf&&r.U._drawGlyf(e,t,a);return a},r.U._drawGlyf=function(t,e,a){var n=e.glyf[t];null==n&&(n=e.glyf[t]=r.glyf._parseGlyf(e,t)),null!=n&&(n.noc>-1?r.U._simpleGlyph(n,a):r.U._compoGlyph(n,e,a))},r.U._simpleGlyph=function(t,e){for(var a=0;a<t.noc;a++){for(var n=0==a?0:t.endPts[a-1]+1,o=t.endPts[a],i=n;i<=o;i++){var s=i==n?o:i-1,h=i==o?n:i+1,f=1&t.flags[i],l=1&t.flags[s],u=1&t.flags[h],d=t.xs[i],c=t.ys[i];if(i==n)if(f){if(!l){r.U.P.moveTo(e,d,c);continue}r.U.P.moveTo(e,t.xs[s],t.ys[s])}else l?r.U.P.moveTo(e,t.xs[s],t.ys[s]):r.U.P.moveTo(e,(t.xs[s]+d)/2,(t.ys[s]+c)/2);f?l&&r.U.P.lineTo(e,d,c):u?r.U.P.qcurveTo(e,d,c,t.xs[h],t.ys[h]):r.U.P.qcurveTo(e,d,c,(d+t.xs[h])/2,(c+t.ys[h])/2)}r.U.P.closePath(e)}},r.U._compoGlyph=function(t,e,a){for(var n=0;n<t.parts.length;n++){var o={cmds:[],crds:[]},i=t.parts[n];r.U._drawGlyf(i.glyphIndex,e,o);for(var s=i.m,h=0;h<o.crds.length;h+=2){var f=o.crds[h],l=o.crds[h+1];a.crds.push(f*s.a+l*s.b+s.tx),a.crds.push(f*s.c+l*s.d+s.ty)}for(h=0;h<o.cmds.length;h++)a.cmds.push(o.cmds[h])}},r.U._getGlyphClass=function(t,e){var a=r._lctf.getInterval(e,t);return-1==a?0:e[a+2]},r.U.getPairAdjustment=function(t,e,a){if(t.GPOS){for(var n=null,o=0;o<t.GPOS.featureList.length;o++){var i=t.GPOS.featureList[o];if("kern"==i.tag)for(var s=0;s<i.tab.length;s++)2==t.GPOS.lookupList[i.tab[s]].ltype&&(n=t.GPOS.lookupList[i.tab[s]])}if(n)for(o=0;o<n.tabs.length;o++){var h=n.tabs[o],f=r._lctf.coverageIndex(h.coverage,e);if(-1!=f){if(1==h.format){var l=h.pairsets[f];for(s=0;s<l.length;s++)l[s].gid2==a&&(c=l[s]);if(null==c)continue}else if(2==h.format)var u=r.U._getGlyphClass(e,h.classDef1),d=r.U._getGlyphClass(a,h.classDef2),c=h.matrix[u][d];return c.val1[2]}}}if(t.kern){var v=t.kern.glyph1.indexOf(e);if(-1!=v){var p=t.kern.rval[v].glyph2.indexOf(a);if(-1!=p)return t.kern.rval[v].vals[p]}}return 0},r.U.stringToGlyphs=function(t,e){for(var a=[],n=0;n<e.length;n++){var o=e.codePointAt(n);o>65535&&n++,a.push(r.U.codeToGlyph(t,o))}var i=t.GSUB;if(null==i)return a;for(var s=i.lookupList,h=i.featureList,f='\n\t" ,.:;!?()  ',l="",u=0;u<a.length;u++){var d=a[u],c=0==u||-1!=f.indexOf(e[u-1]),v=u==a.length-1||-1!=f.indexOf(e[u+1]);c||-1==l.indexOf(e[u-1])||(c=!0),v||-1==l.indexOf(e[u])||(v=!0),v||-1=="".indexOf(e[u+1])||(v=!0),c||-1=="".indexOf(e[u])||(c=!0);var p=null;p=c?v?"isol":"init":v?"fina":"medi";for(var g=0;g<h.length;g++)if(h[g].tag==p)for(var U=0;U<h[g].tab.length;U++){1==(_=s[h[g].tab[U]]).ltype&&r.U._applyType1(a,u,_)}}var m=["rlig","liga","mset"];for(u=0;u<a.length;u++){d=a[u];var S=Math.min(3,a.length-u-1);for(g=0;g<h.length;g++){var b=h[g];if(-1!=m.indexOf(b.tag))for(U=0;U<b.tab.length;U++)for(var _=s[b.tab[U]],y=0;y<_.tabs.length;y++)if(null!=_.tabs[y]){var x=r._lctf.coverageIndex(_.tabs[y].coverage,d);if(-1!=x)if(4==_.ltype)for(var F=_.tabs[y].vals[x],C=0;C<F.length;C++){var P=F[C],T=P.chain.length;if(!(T>S)){for(var w=!0,G=0;G<T;G++)P.chain[G]!=a[u+(1+G)]&&(w=!1);if(w){a[u]=P.nglyph;for(G=0;G<T;G++)a[u+G+1]=-1}}}else if(5==_.ltype){var O=_.tabs[y];if(2!=O.fmt)continue;var k=r._lctf.getInterval(O.cDef,d),I=O.cDef[k+2],A=O.scset[I];for(n=0;n<A.length;n++){var B=A[n],L=B.input;if(!(L.length>S)){for(w=!0,G=0;G<L.length;G++){var z=r._lctf.getInterval(O.cDef,a[u+1+G]);if(-1==k&&O.cDef[z+2]!=L[G]){w=!1;break}}if(w){var D=B.substLookupRecords;for(C=0;C<D.length;C+=2)D[C],D[C+1]}}}}}}}return a},r.U._applyType1=function(t,e,a){for(var n=t[e],o=0;o<a.tabs.length;o++){var i=a.tabs[o],s=r._lctf.coverageIndex(i.coverage,n);-1!=s&&(1==i.fmt?t[e]=t[e]+i.delta:t[e]=i.newg[s])}},r.U.glyphsToPath=function(t,e,a){for(var n={cmds:[],crds:[]},o=0,i=0;i<e.length;i++){var s=e[i];if(-1!=s){for(var h=i<e.length-1&&-1!=e[i+1]?e[i+1]:0,f=r.U.glyphToPath(t,s),l=0;l<f.crds.length;l+=2)n.crds.push(f.crds[l]+o),n.crds.push(f.crds[l+1]);a&&n.cmds.push(a);for(l=0;l<f.cmds.length;l++)n.cmds.push(f.cmds[l]);a&&n.cmds.push("X"),o+=t.hmtx.aWidth[s],i<e.length-1&&(o+=r.U.getPairAdjustment(t,s,h))}}return n},r.U.pathToSVG=function(r,t){null==t&&(t=5);for(var e=[],a=0,n={M:2,L:2,Q:4,C:6},o=0;o<r.cmds.length;o++){var i=r.cmds[o],s=a+(n[i]?n[i]:0);for(e.push(i);a<s;){var h=r.crds[a++];e.push(parseFloat(h.toFixed(t))+(a==s?"":" "))}}return e.join("")},r.U.pathToContext=function(r,t){for(var e=0,a=r.crds,n=0;n<r.cmds.length;n++){var o=r.cmds[n];"M"==o?(t.moveTo(a[e],a[e+1]),e+=2):"L"==o?(t.lineTo(a[e],a[e+1]),e+=2):"C"==o?(t.bezierCurveTo(a[e],a[e+1],a[e+2],a[e+3],a[e+4],a[e+5]),e+=6):"Q"==o?(t.quadraticCurveTo(a[e],a[e+1],a[e+2],a[e+3]),e+=4):"#"==o.charAt(0)?(t.beginPath(),t.fillStyle=o):"Z"==o?t.closePath():"X"==o&&t.fill()}},r.U.P={},r.U.P.moveTo=function(r,t,e){r.cmds.push("M"),r.crds.push(t,e)},r.U.P.lineTo=function(r,t,e){r.cmds.push("L"),r.crds.push(t,e)},r.U.P.curveTo=function(r,t,e,a,n,o,i){r.cmds.push("C"),r.crds.push(t,e,a,n,o,i)},r.U.P.qcurveTo=function(r,t,e,a,n){r.cmds.push("Q"),r.crds.push(t,e,a,n)},r.U.P.closePath=function(r){r.cmds.push("Z")},r.U._drawCFF=function(t,e,a,n){for(var o=e.stack,i=e.nStems,s=e.haveWidth,h=e.width,f=e.open,l=0,u=e.x,d=e.y,c=0,v=0,p=0,g=0,U=0,m=0,S=0,b=0,_=0,y=0,x={val:0,size:0};l<t.length;){r.CFF.getCharString(t,l,x);var F=x.val;if(l+=x.size,"o1"==F||"o18"==F)o.length%2!=0&&!s&&(h=o.shift()+a.Private.nominalWidthX),i+=o.length>>1,o.length=0,s=!0;else if("o3"==F||"o23"==F){o.length%2!=0&&!s&&(h=o.shift()+a.Private.nominalWidthX),i+=o.length>>1,o.length=0,s=!0}else if("o4"==F)o.length>1&&!s&&(h=o.shift()+a.Private.nominalWidthX,s=!0),f&&r.U.P.closePath(n),d+=o.pop(),r.U.P.moveTo(n,u,d),f=!0;else if("o5"==F)for(;o.length>0;)u+=o.shift(),d+=o.shift(),r.U.P.lineTo(n,u,d);else if("o6"==F||"o7"==F)for(var C=o.length,P="o6"==F,T=0;T<C;T++){var w=o.shift();P?u+=w:d+=w,P=!P,r.U.P.lineTo(n,u,d)}else if("o8"==F||"o24"==F){C=o.length;for(var G=0;G+6<=C;)c=u+o.shift(),v=d+o.shift(),p=c+o.shift(),g=v+o.shift(),u=p+o.shift(),d=g+o.shift(),r.U.P.curveTo(n,c,v,p,g,u,d),G+=6;"o24"==F&&(u+=o.shift(),d+=o.shift(),r.U.P.lineTo(n,u,d))}else{if("o11"==F)break;if("o1234"==F||"o1235"==F||"o1236"==F||"o1237"==F)"o1234"==F&&(v=d,p=(c=u+o.shift())+o.shift(),y=g=v+o.shift(),m=g,b=d,u=(S=(U=(_=p+o.shift())+o.shift())+o.shift())+o.shift(),r.U.P.curveTo(n,c,v,p,g,_,y),r.U.P.curveTo(n,U,m,S,b,u,d)),"o1235"==F&&(c=u+o.shift(),v=d+o.shift(),p=c+o.shift(),g=v+o.shift(),_=p+o.shift(),y=g+o.shift(),U=_+o.shift(),m=y+o.shift(),S=U+o.shift(),b=m+o.shift(),u=S+o.shift(),d=b+o.shift(),o.shift(),r.U.P.curveTo(n,c,v,p,g,_,y),r.U.P.curveTo(n,U,m,S,b,u,d)),"o1236"==F&&(c=u+o.shift(),v=d+o.shift(),p=c+o.shift(),y=g=v+o.shift(),m=g,S=(U=(_=p+o.shift())+o.shift())+o.shift(),b=m+o.shift(),u=S+o.shift(),r.U.P.curveTo(n,c,v,p,g,_,y),r.U.P.curveTo(n,U,m,S,b,u,d)),"o1237"==F&&(c=u+o.shift(),v=d+o.shift(),p=c+o.shift(),g=v+o.shift(),_=p+o.shift(),y=g+o.shift(),U=_+o.shift(),m=y+o.shift(),S=U+o.shift(),b=m+o.shift(),Math.abs(S-u)>Math.abs(b-d)?u=S+o.shift():d=b+o.shift(),r.U.P.curveTo(n,c,v,p,g,_,y),r.U.P.curveTo(n,U,m,S,b,u,d));else if("o14"==F){if(o.length>0&&!s&&(h=o.shift()+a.nominalWidthX,s=!0),4==o.length){var O=o.shift(),k=o.shift(),I=o.shift(),A=o.shift(),B=r.CFF.glyphBySE(a,I),L=r.CFF.glyphBySE(a,A);r.U._drawCFF(a.CharStrings[B],e,a,n),e.x=O,e.y=k,r.U._drawCFF(a.CharStrings[L],e,a,n)}f&&(r.U.P.closePath(n),f=!1)}else if("o19"==F||"o20"==F){o.length%2!=0&&!s&&(h=o.shift()+a.Private.nominalWidthX),i+=o.length>>1,o.length=0,s=!0,l+=i+7>>3}else if("o21"==F)o.length>2&&!s&&(h=o.shift()+a.Private.nominalWidthX,s=!0),d+=o.pop(),u+=o.pop(),f&&r.U.P.closePath(n),r.U.P.moveTo(n,u,d),f=!0;else if("o22"==F)o.length>1&&!s&&(h=o.shift()+a.Private.nominalWidthX,s=!0),u+=o.pop(),f&&r.U.P.closePath(n),r.U.P.moveTo(n,u,d),f=!0;else if("o25"==F){for(;o.length>6;)u+=o.shift(),d+=o.shift(),r.U.P.lineTo(n,u,d);c=u+o.shift(),v=d+o.shift(),p=c+o.shift(),g=v+o.shift(),u=p+o.shift(),d=g+o.shift(),r.U.P.curveTo(n,c,v,p,g,u,d)}else if("o26"==F)for(o.length%2&&(u+=o.shift());o.length>0;)c=u,v=d+o.shift(),u=p=c+o.shift(),d=(g=v+o.shift())+o.shift(),r.U.P.curveTo(n,c,v,p,g,u,d);else if("o27"==F)for(o.length%2&&(d+=o.shift());o.length>0;)v=d,p=(c=u+o.shift())+o.shift(),g=v+o.shift(),u=p+o.shift(),d=g,r.U.P.curveTo(n,c,v,p,g,u,d);else if("o10"==F||"o29"==F){var z="o10"==F?a.Private:a;if(0==o.length)console.log("error: empty stack");else{var D=o.pop(),R=z.Subrs[D+z.Bias];e.x=u,e.y=d,e.nStems=i,e.haveWidth=s,e.width=h,e.open=f,r.U._drawCFF(R,e,a,n),u=e.x,d=e.y,i=e.nStems,s=e.haveWidth,h=e.width,f=e.open}}else if("o30"==F||"o31"==F){var M=o.length,V=(G=0,"o31"==F);for(G+=M-(C=-3&M);G<C;)V?(v=d,p=(c=u+o.shift())+o.shift(),d=(g=v+o.shift())+o.shift(),C-G==5?(u=p+o.shift(),G++):u=p,V=!1):(c=u,v=d+o.shift(),p=c+o.shift(),g=v+o.shift(),u=p+o.shift(),C-G==5?(d=g+o.shift(),G++):d=g,V=!0),r.U.P.curveTo(n,c,v,p,g,u,d),G+=4}else{if("o"==(F+"").charAt(0))throw console.log("Unknown operation: "+F,t),F;o.push(F)}}}e.x=u,e.y=d,e.nStems=i,e.haveWidth=s,e.width=h,e.open=f};var t=r,e=/\r?\n/;function a(r){var a=function(e){var a=this;e=r.extend({src:""},e),this.src=e.src,this.font=null,this._hasLoaded=!1,this._loadCallbacks=[],r.FontList.push(this),this._fetchFontResource(this.src).then(function(r){var e=t.parse(r);if(!(e.head&&e.hmtx&&e.hhea&&e.glyf)){var a=["head","hmtx","hhea","glyf"].filter(function(r){return!e[r]});throw new Error("Typr.js could not parse this font (unable to find "+a.join(", ")+")")}return e}).then(function(r){a.font=r,a._hasLoaded=!0,a._loadCallbacks.forEach(function(r){return r()})}).catch(function(r){throw new Error("Unable to load font from "+a.src+":\n"+r)})};return a.prototype.waitForLoad=function(){var r=this;return new Promise(function(t,e){r._hasLoaded&&r._hasLoaded?t():r._loadCallbacks.push(t)})},a.prototype.getFontScale=function(r){return this._hasLoaded?1/this.font.head.unitsPerEm*r:null},a.prototype.measureText=function(r,a){var n=this;if(void 0===a&&(a=64),!this._hasLoaded)return null;var o=Array.isArray(r)?r:r.split(e),i=this.font,s=i.hmtx.aWidth,h=this.getFontScale(a),f=i.hhea.descender,l=i.hhea.ascender,u=(i.hhea.lineGap,o.map(function(r){return t.U.stringToGlyphs(n.font,r).reduce(function(r,t){return t>-1&&t<s.length&&(r+=s[t]),r},0)})),d=Math.max.apply(Math,u),c=0-f+l,v=c*o.length;return{width:d*h,height:v*h,lineHeight:c*h,lineWidths:u.map(function(r){return r*h}),descender:f*h,ascender:l*h}},a.prototype.getTextPath=function(r,a,n,o,i,s,h){var f=this;if(void 0===a&&(a=64),void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s="left"),void 0===h&&(h="bottom"),!this._hasLoaded)return[];var l=Array.isArray(r)?r:r.split(e),u=this.measureText(r,a),d=u.lineWidths,c=u.lineHeight;return l.map(function(r,e){var l=f.getTextOrigin(Object.assign({},u,{width:d[e]}),n,o,i,s,h),v=l[0],p=l[1];l[2];o+=c;var g=t.U.stringToGlyphs(f.font,r),U=t.U.glyphsToPath(f.font,g);return f._convertPathCommands(U,a,v,p,i)}).flat()},a.prototype.getTextGlyphs=function(r,a,n,o,i,s,h){var f=this;if(void 0===a&&(a=64),void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s="left"),void 0===h&&(h="bottom"),!this._hasLoaded)return[];var l=this.measureText(r,a),u=this.font.hmtx.aWidth,d=this.getFontScale(a),c=l.lineWidths,v=l.lineHeight;return(Array.isArray(r)?r:r.split(e)).map(function(r,e){var p=t.U.stringToGlyphs(f.font,r),g=f.getTextOrigin(Object.assign({},l,{width:c[e]}),n,o,i,s,h),U=g[0],m=g[1],S=g[2];return o+=v,p.filter(function(r){return-1!==r}).map(function(r){var e=t.U.glyphToPath(f.font,r),n={translate:{x:U,y:m,z:S},path:f._convertPathCommands(e,a,0,0,0)};return U+=u[r]*d,n})}).flat()},a.prototype.getTextOrigin=function(r,t,e,a,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===a&&(a=0),void 0===n&&(n="left"),void 0===o&&(o="bottom");var i=r.width,s=r.height,h=r.lineHeight;switch(n){case"right":t-=i;break;case"center":t-=i/2}switch(o){case"middle":e-=s/2-h;break;case"bottom":default:e-=s-h}return[t,e,a]},a.prototype._convertPathCommands=function(r,t,e,a,n){void 0===e&&(e=0),void 0===a&&(a=0),void 0===n&&(n=0);var o=this.getFontScale(t),i=r.cmds,s=r.crds.map(function(r){return r*o}),h=null,f=0;return i.map(function(r){var t=null;switch(h||(h={x:e+1*s[f],y:a+-1*s[f+1],z:n}),r){case"M":return t={move:{x:e+1*s[f],y:a+-1*s[f+1],z:n}},f+=2,t;case"L":return t={line:{x:e+1*s[f],y:a+-1*s[f+1],z:n}},f+=2,t;case"C":return t={bezier:[{x:e+1*s[f],y:a+-1*s[f+1],z:n},{x:e+1*s[f+2],y:a+-1*s[f+3],z:n},{x:e+1*s[f+4],y:a+-1*s[f+5],z:n}]},f+=6,t;case"Q":return t={arc:[{x:e+1*s[f],y:a+-1*s[f+1],z:n},{x:e+1*s[f+2],y:a+-1*s[f+3],z:n}]},f+=4,t;case"Z":return h&&(t={line:h},h=null),t;default:return t}}).filter(function(r){return null!==r})},a.prototype._fetchFontResource=function(r){return new Promise(function(t,e){var a=new XMLHttpRequest;a.responseType="arraybuffer",a.open("GET",r,!0),a.onreadystatechange=function(r){4===a.readyState&&(a.status>=200&&a.status<300?t(a.response):e("HTTP error "+a.status+": "+a.statusText))},a.send(null)})},r.Font=a,r}function n(r,t){var e={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&-1===t.indexOf(a)&&(e[a]=r[a]);return e}function o(r){var t=function(t){function e(e){var a=(e=r.extend({font:null,value:"",fontSize:64,textAlign:"left",textBaseline:"bottom"},e)).font,o=e.value,i=e.fontSize,s=e.textAlign,h=e.textBaseline,f=n(e,["font","value","fontSize","textAlign","textBaseline"]);t.call(this,Object.assign({},f,{closed:!0,visible:!1,path:[{}]})),this._font=null,this._value=o,this._fontSize=i,this._textAlign=s,this._textBaseline=h,this.font=a}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var a={font:{configurable:!0},value:{configurable:!0},fontSize:{configurable:!0},textAlign:{configurable:!0},textBaseline:{configurable:!0}};return e.prototype.updateText=function(){var r=this.font.getTextPath(this.value,this.fontSize,0,0,0,this.textAlign,this.textBaseline);0==r.length?(this.path=[{}],this.visible=!1):(this.path=r,this.visible=!0),this.updatePath()},a.font.set=function(r){var t=this;this._font=r,this.font.waitForLoad().then(function(){t.updateText(),t.visible=!0;for(var r=t.addTo;void 0!==r.addTo;)r=r.addTo;r&&"function"==typeof r.updateRenderGraph&&r.updateRenderGraph()})},a.font.get=function(){return this._font},a.value.set=function(r){this._value=r,this.updateText()},a.value.get=function(){return this._value},a.fontSize.set=function(r){this._fontSize=r,this.updateText()},a.fontSize.get=function(){return this._fontSize},a.textAlign.set=function(r){this._textAlign=r,this.updateText()},a.textAlign.get=function(){return this._textAlign},a.textBaseline.set=function(r){this._textBaseline=r,this.updateText()},a.textBaseline.get=function(){return this._textBaseline},Object.defineProperties(e.prototype,a),e}(r.Shape);return t.optionKeys=t.optionKeys.concat(["font","fontSize","value","textAlign","textBaseline"]),r.Text=t,r}function i(r,t){var e={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&-1===t.indexOf(a)&&(e[a]=r[a]);return e}function s(r){var t=function(t){function e(e){var a=(e=r.extend({font:null,value:"",fontSize:64,textAlign:"left",textBaseline:"bottom",color:"#333",fill:!1,stroke:1},e)).font,n=e.value,o=e.fontSize,s=e.textAlign,h=e.textBaseline,f=e.color,l=e.fill,u=e.stroke,d=i(e,["font","value","fontSize","textAlign","textBaseline","color","fill","stroke"]);t.call(this,Object.assign({},d,{visible:!1})),this._font=null,this._value=n,this._fontSize=o,this._textAlign=s,this._textBaseline=h,this._color=f,this._fill=l,this._stroke=u,this.font=a}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var a={font:{configurable:!0},value:{configurable:!0},fontSize:{configurable:!0},textAlign:{configurable:!0},textBaseline:{configurable:!0},color:{configurable:!0},fill:{configurable:!0},stroke:{configurable:!0}};return e.prototype.updateText=function(){for(var t=this;this.children.length>0;)this.removeChild(this.children[0]);this.font.getTextGlyphs(this.value,this.fontSize,0,0,0,this.textAlign,this.textBaseline).filter(function(r){return r.path.length>0}).forEach(function(e){t.addChild(new r.Shape({translate:e.translate,path:e.path,color:t.color,fill:t.fill,stroke:t.stroke,closed:!0}))}),this.updateFlatGraph()},a.font.set=function(r){var t=this;this._font=r,this._font.waitForLoad().then(function(){t.updateText(),t.visible=!0;for(var r=t.addTo;void 0!==r.addTo;)r=r.addTo;r&&"function"==typeof r.updateRenderGraph&&r.updateRenderGraph()})},a.font.get=function(){return this._font},a.value.set=function(r){this._value=r,this.updateText()},a.value.get=function(){return this._value},a.fontSize.set=function(r){this._fontSize=r,this.updateText()},a.fontSize.get=function(){return this._fontSize},a.textAlign.set=function(r){this._textAlign=r,this.updateText()},a.textAlign.get=function(){return this._textAlign},a.textBaseline.set=function(r){this._textBaseline=r,this.updateText()},a.textBaseline.get=function(){return this._textBaseline},a.color.set=function(r){this._color=r,this.children.forEach(function(t){return t.color=r})},a.color.get=function(){return this._color},a.fill.set=function(r){this._fill=r,this.children.forEach(function(t){return t.fill=r})},a.fill.get=function(){return this._fill},a.stroke.set=function(r){this._stroke=r,this.children.forEach(function(t){return t.stroke=r})},a.stroke.get=function(){return this._stroke},Object.defineProperties(e.prototype,a),e}(r.Group);return t.optionKeys=t.optionKeys.concat(["color","fill","stroke","font","fontSize","value","textAlign","textBaseline"]),r.TextGroup=t,r}var h={init:function(r){return r.FontList=[],r.waitForFonts=function(){return Promise.all(r.FontList.map(function(r){return r.waitForLoad()}))},a(r),o(r),s(r),r},version:"1.2.8"},f=h;exports.default=f;
},{}],"K0yk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbToHsl=exports.hexToRgb=void 0;var e=function(e){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null};exports.hexToRgb=e;var r=function(e,r,t){e/=255,r/=255,t/=255;var a=Math.max(e,r,t),o=a-Math.min(e,r,t),s=o?a===e?(r-t)/o:a===r?2+(t-e)/o:4+(e-r)/o:0;return[60*s<0?60*s+360:60*s,100*(o?a<=.5?o/(2*a-o):o/(2-(2*a-o)):0),100*(2*a-o)/2]};exports.rgbToHsl=r;
},{}],"IxTk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Animation=void 0;var t=i(require("animejs")),e=i(require("zdog")),n=i(require("zfont")),a=require("./utils");function i(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return c(t)||s(t)||u(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function s(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function c(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,y(a.key),a)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t,e,n){return(e=y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){var e=v(t,"string");return"symbol"===o(e)?e:String(e)}function v(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,e||"default");if("object"!==o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}require("./stylesAnimation.scss"),n.default.init(e.default);var g=function(){function n(){h(this,n),m(this,"displayName","Animation chart horizontal bars"),m(this,"templateId","chart_horizontal_columns"),console.log("loaded",this.displayName,"v","1.0"),this.font=new e.default.Font({src:"https://cdn.jsdelivr.net/npm/font-roboto-local@1.0.1/fonts/roboto/Roboto-Light.ttf"}),this.screen=document.getElementById("screen"),this.animation=t.default.timeline({loop:!0}),this.aspect=1.5,this.gap=10,this.prefix="$",this.postfix="%",this.columnColor="#003300",this.backgroundColor="#274a60",this.textColor="#ffffaa",this.direction="column",this.cap="round",this.intro=!0,this.outro=!0,this.data=[{title:"January",value:15},{title:"February",value:20},{title:"March",value:10},{title:"May",value:10},{title:"June",value:15},{title:"July",value:15},{title:"August",value:50}],this.createAnimation()}return p(n,[{key:"prepareData",value:function(t){return r(t)}},{key:"createAnimation",value:function(){var t=this,n=100*this.aspect;this.screen.style="\n      flex-direction: ".concat(this.direction,"; \n      background: radial-gradient(circle at 50% 50%, ").concat(this.backgroundColor," 0%, ").concat(this.backgroundColor,"F0 100%);\n    ");var a=document.createElement("div");a.className="title-container",this.screen.append(a);var i=document.createElement("div");i.innerHTML=this.title,i.className="title",i.style="color: ".concat(this.textColor),a.append(i);var o=document.createElement("div");o.innerHTML=this.subtitle,o.className="subtitle",o.style="color: ".concat(this.textColor),a.append(o);var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","0 0 ".concat(n," ").concat(100)),r.setAttribute("width","100"),r.setAttribute("height","100"),r.setAttribute("class","illo"),r.setAttribute("style","padding: 0"),this.screen.appendChild(r);var l=new e.default.Illustration({element:r,dragRotate:!0,onDragStart:function(){}}),u=-e.default.TAU/10,s=-e.default.TAU/10,c=100/((10+this.gap)*this.data.length),d=new e.default.Anchor({addTo:l,rotate:{y:u,z:0,x:s},scale:c,translate:{x:-(10+this.gap)/2*(this.data.length-1)*Math.cos(u)*c,y:25}});this.prepareData(this.data).forEach(function(n,a){var i=new e.default.Box({addTo:d,width:10,height:1,depth:10,stroke:!1,color:"#C25",leftFace:"#EA0",rightFace:"#E62",topFace:"#ED0",bottomFace:"#636",translate:{x:a*(10+t.gap)}}),o=(new e.default.Text({addTo:d,font:t.font,value:n.title,fontSize:9,stroke:!1,textAlign:"left",textBaseline:"middle",color:"#fff",fill:!0,translate:{z:10,x:a*(10+t.gap),y:0},rotate:{x:e.default.TAU/4,z:e.default.TAU/4}}),new e.default.Text({addTo:d,font:t.font,value:"0",fontSize:6,stroke:!1,textAlign:"center",textBaseline:"middle",color:"#fff",fill:!0,translate:{z:-10,x:a*(10+t.gap)+2.5,y:-1},rotate:{}}));t.animation.add({targets:i,duration:500,easing:"easeOutQuad",height:[1,n.value+1],update:function(t){i.translate.y=-i.height/2,o.translate.y=-i.height-1,o.value=String(Math.round(i.height-1)),i.updatePath(),d.updateGraph(),d.renderGraphSvg(r)}})}),d.translate.z=-100,d.updateGraph(),d.renderGraphSvg(r),parent.postMessage({"animation.duration":this.animation.duration,template:this.templateId},"*")}},{key:"clearAnimation",value:function(){this.screen.replaceChildren()}},{key:"updateAnimation",value:function(e){e.title&&(this.title=e.title),e.subtitle&&(this.subtitle=e.subtitle),e.data&&(this.data=e.data),e.gap&&(this.gap=e.gap),e.columnColor&&(this.columnColor=e.columnColor),e.backgroundColor&&(this.backgroundColor=e.backgroundColor),e.textColor&&(this.textColor=e.textColor),e.direction&&(this.direction=e.direction),e.cap&&(this.cap=e.cap),this.animation=t.default.timeline({loop:!0}),this.clearAnimation(),this.createAnimation()}},{key:"play",value:function(){this.animation.play()}},{key:"seek",value:function(t){var e=t%this.animation.duration;this.animation.pause(),this.animation.seek(e)}},{key:"pause",value:function(){this.animation.pause()}},{key:"stop",value:function(){this.animation.pause(),this.animation.seek(1)}},{key:"getDuration",value:function(){return this.animation.duration}}]),n}();exports.Animation=g;
},{"animejs":"tMTn","zdog":"bgtn","zfont":"F9cU","./utils":"K0yk","./stylesAnimation.scss":"aiJW"}],"H99C":[function(require,module,exports) {
"use strict";require("./styles.scss");var e=r(require("dat.gui")),t=require("./animation");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(a,u,i):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}var a=new t.Animation,o=new e.GUI({name:"Controls"}),u={play:function(){a.play()},stop:function(){a.stop()},pause:function(){a.pause()},range:0};o.add(u,"play"),o.add(u,"stop"),o.add(u,"pause"),o.add(u,"range",1,a.getDuration()).onChange(function(e){a.seek(Math.floor(e))}),window.addEventListener("message",function(e){var t=e.data,n=t.frame,r=t.action,o=t.controls;n&&a.seek(n),"play"===r&&a.play(),"pause"===r&&a.pause(),"stop"===r&&a.stop(),null!=o&&o.userControls&&a.updateAnimation(o.userControls)});
},{"./styles.scss":"aiJW","dat.gui":"ArXC","./animation":"IxTk"}]},{},["H99C"], null)
//# sourceMappingURL=/csb-2iiwxh/src.49239400.js.map